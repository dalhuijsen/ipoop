<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<html>
<head>
<title>Java Print Service API User Guide: 4 - Printing and Streaming Documents

</title>
</head>
<body bgcolor="#ffffff">
 
<table summary="layout" width="100%"><tr>
<td><!-- Bug in Communicator w/font: NavBar text disappears for Times 14pt pref. -->
<!-- font size="-1" --> <a href="JPSTOC.fm.html">CONTENTS</a> | <a href="printing.fm3.html">PREV</a>
 | <a href="printing.fm5.html">NEXT</a> <!-- | <a href="jps_glossaryapp.fm.html">INDEX</a>  -->
<!-- /font --></td><td align=right><i>Java<sup><font size="-1">TM</font></sup></font> Print Service API User Guide</i></td>
</tr></table>
<br>
 

<p>
<hr size="8" width="35%" align="left" noshade>

<h2><a name="998347"><i></i> Creating a Doc
</a></h2>

<blockquote>
<a name="998501"><!-- --></a>
To create a Doc you must provide an implementation of the Doc interface. The Java Print Service API provides a convenient implementation of Doc called SimpleDoc. An application is not required to use the SimpleDoc implementation, but to ensure compliance with Doc, any Doc implementation must observe the same required semantics that SimpleDoc implements, which are:<p>
</blockquote>
<blockquote>
<ul><li>
<a name="998573"><!-- --></a>
Every Doc implemenation must implement all five methods of the Doc interface.
</li>
<li>
<a name="999027"><!-- --></a>
The Doc implementation must allow multiple threads to access the Doc object.
</li>
<li>
<a name="999028"><!-- --></a>
Every time a Doc method is called, it returns the same object. This means you do not return a new stream. Since there is only one input stream there can only be one consumer of the Doc.
</li>
<li>
<a name="999031"><!-- --></a>
The Doc returns a stream for the service if requested
</li>
<li>
<a name="999032"><!-- --></a>
The Doc checks if the data type matches the doc flavor
</li>
<li>
<a name="999049"><!-- --></a>
The attributes returned from getAttributes always override those passed in the print method.
</li>
</ul>
</blockquote>
<blockquote>
<a name="999060"><!-- --></a>
Before creating a Doc, you need to load your document from the file. The representation class of the DocFlavor determines how you load the document from the file. In this case, the representation class is an InputStream:<p>
<a name="999062"><!-- --></a>
<pre>	FileInputStream fis = new FileInputStream(&#34;java2dlogo.gif&#34;);
</pre>


<a name="999061"><!-- --></a>
Once you have the stream, pass it to SimpleDoc with the DocFlavor and a DocAttributeSet, ifi you have one. If you don&#39;t have a DocAttributeSet, pass in null instead:<p>
<a name="999074"><!-- --></a>
<pre>	Doc doc = new SimpleDoc(fis, flavor, null);
</pre>


<a name="999073"><!-- --></a>
See <a href="appendix_printGIF.fm.html#7083"><em>Example: PrintGIF.java</em></a> for an example of a custom Doc implementation.<p>
<a name="1000443"><!-- --></a>
The next section demonstrates how to register for events on your print job or service.<p>
</blockquote>

<br>
<hr>
<!-- Bug in Communicator w/font: NavBar text disappears for Times 14pt pref. -->
<!-- font size="-1" --> <a href="JPSTOC.fm.html">CONTENTS</a> | <a href="printing.fm3.html">PREV</a>
 | <a href="printing.fm5.html">NEXT</a> <!-- | <a href="jps_glossaryapp.fm.html">INDEX</a>  -->
<!-- /font -->

<hr>
<font size="-1"><i><A HREF="../../../relnotes/SMICopyright.html">Copyright</a> &#169 2001 Sun Microsystems, Inc. All Rights Reserved.</i></font>




</body>
</html>
