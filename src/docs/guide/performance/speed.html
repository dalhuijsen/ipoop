<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<HTML>

<HEAD>

     <TITLE>Improvements to Program Execution Speed</TITLE>

</HEAD>



<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#000077" ALINK="#FF0000">



<TABLE summary="layout" BORDER="0" WIDTH="100%">

<TR>

<TD WIDTH="60">

   <IMG SRC="../../images/javalogo52x88.gif" ALT="Java" BORDER=0 WIDTH=52 HEIGHT=88>

</TD>



<TD>

<center>

           <h1>Improvements to Program Execution Speed</h1>

</center>

</TD>



<TD ALIGN=RIGHT VALIGN=TOP>

   <font size="-1"><a href="../../index.html">Documentation Contents</a></font>

</TD>

</TR>

</TABLE>



<!-- Body text begins here -->


<h3>Enhancements in J2SDK 1.4</h3>
<blockquote>
The following are some of the enhancements made for improved 
program execution speed in J2SDK 1.4.
<ul>
<li>J2SDK 1.4 has much improved 
performance in the area of Java 2D<sup><font size=-2>TM</font></sup> 
technology.  These Java 2D performance enhancements have spin-off performance 
benefits in other areas of functionality such as Swing/JFC. One example of 
performance improvement in J2SDK 1.4 is that remote X display 
on Solaris is greatly improved.  See <b><a href="../2d/new_features.html">New Java 2D Features</a></b> for more information on Java 2D enhancements, 
including performance enhancements.
<p>
<li>The New I/O API provides for  improved performance in the areas of 
buffer management, scalable network and file I/O, character-set support, 
and regular-expression matching. The New I/O APIs supplement the I/O 
facilities in the <tt>java.io</tt> package.  For more information, see 
<a href="../nio/index.html"><b>New I/O APIs</b></a>. 
<p>
<li>
Beginning with J2SDK 1.4.0, certain reflective operations, specifically 
<a href="../../api/java/lang/reflect/Field.html">java.lang.reflect.Field</a>,
<a href="../../api/java/lang/reflect/Method.html#invoke(java.lang.Object, java.lang.Object[])">java.lang.reflect.Method.invoke()</a>,
<a href="../../api/java/lang/reflect/Constructor.html#newInstance(java.lang.Object[])">java.lang.reflect.Constructor.newInstance()</a>, and <a href="../../api/java/lang/Class.html#newInstance()">Class.newInstance()</a>,
have been rewritten for higher performance.  Reflective
invocations and instantiations are several times faster than in
previous releases. 
<p><li>The networking functionality in J2SDK 1.4 has improved performance 
for Http streaming.
<p>
<li>New static method <a href="../../api/java/math/BigInteger.html#probablePrime(int, java.util.Random)"><tt>probablePrime</tt></a> has been added to class 
<tt>BigInteger</tt> for generating prime numbers.  Previously, the sole 
means of generating a prime <tt>BigInteger</tt> required
the caller to provide a 'certainty' (the log of the probability of
compositeness that the caller was willing to tolerate). However, providing 
an unreasonable value for the certainty could lead to poor performance
(if the certainty was too high) or serious bugs (if it was too low).  
The new prime-generation method provides an efficient algorithm for 
generating primes using an automatically determined, appropriate value 
for the certainty based on a draft ANSI specification (X9-80).
<p>
<li>
    The Java HotSpot[TM] virtual machine 
    now uses "full-speed debugging". In the previous version of HotSpot, when
    debugging was enabled, the program executed using only the interpreter. Now,
    the full performance advantage of HotSpot
    Technology is available to programs running with debugging enabled.
    The improved performance allows long running programs to
    be more easily debugged. It also allows testing to proceed
    at full speed and the launch of a debugger to occur on an exception.

</ul>
</blockquote>

<h3>Enhancements in J2SDK 1.3</h3>
<blockquote>
The following are some of the changes made to improve 
the program execution speed and general runtime performance in 
previous release J2SDK 1.3.  These enhancements have been 
carried forward into J2SDK 1.4. 
<p> 
Links to relevant bug reports on the BugParade web site are provided 
were applicable for further information.
<p>
<ul>
<li><b>Improved Performance for readUTF and writeUTF</b> - The 
implementations of the <tt>readUTF</tt> and <tt>writeUTF</tt> methods 
of <tt>DataInputStream</tt> and <tt>DataInputStream</tt>
have been modified to improve performance. This is a fix for bug number 
<a href="http://developer.java.sun.com/developer/bugParade/bugs/4219771.html">
4219771</a> on the BugParade web site.
<p>
<li><b>Improved Performance of JScrollPane Painting</b> - 
The implementation of JScrollPane has been improved so that it 
does not cause excessive painting and screen flashing when 
double buffering is not used.
<p>
<li><b>Improved JTable Performance</b> - The performance of the 
JTable's column-handling functionality has been improved. 
Previously, the performance of the operations of adding columns 
or recalculating column widths did not scale well as the number 
of columns became large. The implementation has been changed 
to improve scalability.  This is a fix for bug number 
<a href="http://developer.java.sun.com/developer/bugParade/bugs/4223642.html">
4223642</a> on the BugParade web site.
<p>
<li><b>Paint Coalescing</b> - Painting performance has been 
enhanced through the implementation of an improved paint coalescing 
algorithm. Areas 
that require repainting are coalesced into a single, 
non-rectangular repaint area as they are posted to the 
event queue. This has the effect batching repaints, 
executing multiple repaints simultaneously in a manner 
more efficient than in previous releases.  
<p>
<li><b>Frame Resizing</b> - Resizing of top-level frames has been 
improved.
<p>
<li><b>Internal Frame Blitting</b> - By using <tt>Graphics.copyArea</tt> 
calls, Swing's DefaultDesktopManager now needs to redraw far 
less when frames are dragged.
<p>
<li><b>Performance Enhancements in <tt>BigIntenger</tt></b> -
Class <tt>java.math.BigInteger</tt> has been reimplemented in pure 
Java programming-language code.  Previously, <tt>BigInteger</tt>'s 
implementation was based on the Plumb C library.  The new 
implementation performs all standard operations much faster 
than the old implementation. The speed-up realized in the new 
implemenation can be as much as 5x or more, depending on the 
operation being performed.

<p>
<li><b>Provision for Better-Performing Numeric Operations</b></a> - The 
Java 2 Platform now contains two classes which provide API for 
performing general numeric operations.  
<ul>
   <li><tt><a href=../../api/java/lang/StrictMath.html>java.lang.StrictMath</a></tt> - Class <tt>java.lang.StrictMath</tt> is a renaming of class 
<tt>java.lang.Math</tt> from previous versions of the Java platform, 
but otherwise retains the previous specification of <tt>Math</tt>. 
In particular, it is defined to return bit-for-bit reproducible 
results in all implementations.
   <li><tt><a href=../../api/java/lang/Math.html>java.lang.Math</a></tt> - 
Class <tt>java.lang.Math</tt> provides the same set of API as does 
class <tt>StrictMath</tt>. However, unlike some of the numeric functions of 
class <tt>StrictMath</tt>, all implementations of the equivalent functions 
of class <tt>Math</tt> are not defined to return the bit-for-bit same results, 
but can vary within specified constraints. 
This relaxation permits better-performing implementations where strict
reproducibility is not required.
</ul>
</ul>
</blockquote>



<!-- Body text ends here -->

<!-- ============================================================== -->

<HR SIZE=3 NOSHADE>



<TABLE summary="layout" BORDER="0" WIDTH="100%">

<TR VALIGN=TOP>



<TD>

<P><FONT SIZE="-2">

   <A HREF="../../relnotes/SMICopyright.html">Copyright &#169;</A> 2001

   <A HREF="http://www.sun.com/">Sun Microsystems, Inc.</A>

    All Rights Reserved.</FONT></P>

   <br>

   <br>



<FONT SIZE="-1">
Please send comments to:
<a href="mailto:jdk-comments@eng.sun.com">jdk-comments@eng.sun.com</a>
</FONT>

</TD>



<TD ALIGN=RIGHT>

   <IMG SRC="../../images/sunlogo64x30.gif" ALT="Sun" BORDER=0 WIDTH=64 HEIGHT=30>



</TD>



</TR>

</TABLE>



</BODY>

</HTML>



