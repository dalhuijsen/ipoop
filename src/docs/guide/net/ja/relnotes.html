<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=ISO-2022-JP">
<title>鱚跪阡纉戝扱起鯵錙璽亡悗垢襯螢蝓璽好痢璽鹿緇
鹿蒹痲
錫閼砒竢跫鮟■聿聿聿⊂


者疎姪轣鴒就赱堆卍賭就唖苗堡就碓哀⊂
者匸
者糘莉彊蕊庸卉就閭鶩蜊瘍纉癘瘡閾鏥怪幻蜀遡埆∧癘瓣蜆週仮
鹿堋

者瘡蜃扈竇銓纈
取云鱚跪阡纉戝扱起鯵錙璽亡悗垢襯螢蝓璽好痢璽鹿莟鹿堋
者瘡蜃扈鱸艾糘莉彊碵雹
質凖峠〓鱚跪阡纉譬昭浜嘔箪蜊瘍纉鈑跚鼈渦速芍罌闥粤鮟遡埆ぢ英語版"></A>
<BR>
</TD>
</TR>
</TABLE>

<HR SIZE=3 NOSHADE>

Java<sup><font size="-2">TM</font></sup> 2 SDK, Standard Edition (J2SE), v1.4.1 での既知の齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿とその他の鱚跪阡纉戝扱起鯵錙璽量簑蠅魄焚爾房┐靴泙后受貍
殊蘊莱竰闢閹怏鈔阯晃ぢおよび Windows Me では、<tt>Socket.setSoTimeout</tt> を使用して読み込みタイムアウトを設定するか、<tt>ServerSocket.setSoTimeout</tt> を使用して受け取りタイムアウトを設定すると、予定よりも 500 ミリ秒後にタイムアウトする場合があります。この現象は、Microsoft Windows 98 および Microsoft Windows Me の齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿が原因であり、J2SE のすべてのリリースで発生する可能性があります。Microsoft Windows 98 および Microsoft Windows Me の奪舛蓮莱竰闢閹の Web サイト 
<a href="http://support.microsoft.com/default.aspx?scid=KB;EN-US;Q257821&">http://support.microsoft.com/default.aspx?scid=KB;EN-US;Q257821&</a> から入手することができます。

<p>
<li>J2SE 1.4.1 より前のバージョンでは、<tt>java.net.InetAddress.getLocalHost()</tt> は、ア凄鱚跪阡纉窺糾ケーションセ蓋轡腑鸛澗里砲錣燭蝓▲蹇璽襯泪轡鵑賓ぢア窺旧スの検索をキャ蓋轡紊靴討い泙靴拭海瞭虻遒里燭瓩法▲瀬ぅ筌襯虎接続を使用してインター鱚跪阡纉戝トに接続されたマシンや DHCP を使用してア窺旧スを取得するマシン上で実行されるア凄鱚跪阡纉窺糾ケーションで問題が発生する場合があります。1.4.1 ではこの問題が修正され、ローカル IP ア窺旧スはキャ蓋轡紊気譴覆覆蠅泙靴拭儒侮續槍糅纉鶤艱閭瘡被齡┤鹿は、ダイヤルア蓋彑楝海両豺腓任斑の場合でも正しい IP ア窺旧スを返します。  齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿 
<a href="http://developer.java.sun.com/developer/bugParade/bugs/4211819.html">4211819</a> を参照してください。

<p><li>J2SE 1.4.1 より前のバージョンでは、扱起鯵侫襯箸痢專纈艱銓」HTTP ヘ官世蓮捕窺堪という形式で指定され、1.4.0 は、相対的なバージョン番号でした。この形式が HTTP の仕様に準拠するように変更され、1.4.1 では、Java/1.4.1 の値が指定されています。さらに、「http.agent」シス喘池繻鈿鶤蔗迪狎┌繻鈿鶤蔗迪	窺牛謄瀋蠅気譴討い訃豺隋∋慊蠅気譴臣佑蓮君欝閣ォルト値に置き換えられるのではなく、扱起鯵侫襯斑佑鯀笋靴泙后鬲皴鳬回絲窺堪億粹笂粤續甎喘池繻鈿鶤蔗迪蓿繙就蔗痕纐繻關纈癘甌齦隨竢躁粤跫鞳鬲碯與癇痲絲碯苴輝臆旭譬彰輝臆旭鹿畩ぢを参照してください。

<p><li>J2SE 1.4.0 および 1.4.1 では、カスタム SocketImpl を基にしてソケ干箸鮑鄒垢襪函⇔祿阿好蹇爾気譴訃豺腓△蠅泙后海量簑蠅蓮▲屐式君欝劾ラスローダ以外のクラスローダによってカスタム SocketImpl がロードされる場合に発生します。この問題は、齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿 <a href="http://developer.java.sun.com/developer/bugParade/bugs/4674826.html">4674826</a> で追跡されています。

<p><li>J2SE 1.4.1 より前のバージョンでは、TCP 接続がリセ患箸気譴疹豺隋綢海肖閭諷艱鉋囈鱚瘢┤縺筥ぢと <tt>Socket.getInputStream().available()</tt> の呼び出しに一貫性がなくなり、オ凄譟紗鍛哢鶤鱚跪阡纉譯ングシス喘池繻鈿鶤蔗迪爐瓦箸貌虻遒曚覆辰討い泙靴拭６饌療砲蓮綢海離愁唄吉の読み取りが、IOException をスローするか、EOF をスローするか、または齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉戝憶些穏宜〆僂澆溜鬲皴鳬回絲窺堪億粹笂粤續甎喘池繻鈿鶤蔗迪ぅ反瑤鯤屬垢鯣獣任任泙擦鵑任靴拭窺堪ではこの問題が解決され、動作の一貫性が保たれるようになりました。修正された <tt>Socket.getInputStream().read()</tt> は、次の読み取り (および後続のすべての読み取り) で、すべての齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉戝憶些穏宜〆僂潘鬲皴鳬回絲窺堪億粹笂粤續甎喘池繻鈿鶤蔗迪ぅ箸鯑匹濕茲辰討賄辮闔ぢをスローします。同様に、<tt>Socket.getInputStrea45$r;2>H$7$F$/$@$5$$!#

<p><li>J2SE 1.4.1 より前のバージョンでは、http/https 凄鱚跪阡纉窺牛扱起鯵灰襯魯鷄蕕孀から https URL に (およびその逆に) 正しくリダイレクトしませんでした。特に、オリジナルの URL スキーマを使用してリダイレクトを試行した場合に正しくリダイレクトされませんでした。1.4.1 では、そのようなりダイレクト (http から https へまたは https から http へ) に対するサーバの応答をア凄鱚跪阡纉窺糾ケーションに戻すことによって、この問題が解決されました。したがって、応答コードを凄繻鈿鶤蔗迪凄Т君してリダイレクトとして認識する処理は、ア凄鱚跪阡纉窺糾ケーションが実行します。ア凄鱚跪阡纉窺糾ケーションは、Location ヘ慣晴浦害叉坑ールドで凄繻鈿鶤蔗迪凄Т君できるリダイレクト情報を調べて、新しい凄鱚跪阡纉窺牛扱起鯵灰襪鮖藩僂靴謄螢瀬ぅ譽箸鮃圓Δ匹Δ鯣獣任垢詆廚△蠅泙后鬲皴鳬回絲窺堪億粹笂粤續甎喘池繻鈿鶤蔗迪蓿繙就蔗痕纐繻關纈癘甌齦隨竢躁粤跫鞳鬲碯與癇痲絲碯苴恐圧訓譬彰恐圧訓鹿畩ぢを参照してください。

<p>
<li>J2SE の 1.4 より前のバージョンでは、 <tt>java.net.URLConnection</tt> クラスは http サーバからのエラーに対し矛盾のある処理をしていました。
特に、<tt>getInputStream</tt> またはほかのメソ輝匹蓮蔗ぢサーバが 400 以上の応答コードを戻し、要求が既知の憶些穏宜．ぅ襪亮鑪爐離螢宗璽垢亡悗垢襪發里任△訃豺隋鍋跂麗阨鈔祷竇頸蜿をスローしていました。
<p>
この問題はバージョン 1.4 では、サーバからスローされたあらゆる http エラーに対しては、IOException をスローし、リソースが見つからない場合 (応答コード 404 または 410) には、FileNotFoundExeption という特別な例外がスローされるように修正されています。この例外は、憶些穏宜．ぅ襪亮鑪爐砲牢愀犬覆好蹇爾気譴泙后腫サーバから http エラーが戻されたとき、例外がスローされないと仮定しているア凄鱚跪阡纉窺糾ケーションは、1.4 のこの変更を認識する必要があります。齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿 <a href="http://developer.java.sun.com/developer/bugParade/bugs/4160499.html">4160499</a> を参照してください。 
<p>
この問題に関連して、サーバから http エラーが戻されるとき、http サーバからエラーページを読み取るのに <tt>HttpURLConnection.getErrorStream()</tt> メソ儀匹藩僂任襪茲Δ砲覆蠅泙靴拭
以前は、<tt>getErrorStream()</tt> は常に <tt>null</tt> を戻していました。
<p>
<li>J2SE の 1.4 より前のバージョンでは、ホスト名がまだ解決されていない場合、<tt>InetAddress.toString()</tt> はネームサー姐を使用して検索を行なっていました。
1.4 ではこれと異なり、<tt>toString</tt> が即座に戻されます。
ホスト名が解決されていない場合、戻される文字列には窺誼ト (.) 付きの IP ア窺旧スのみが含まれます。
<p>
解決したホスト名を含む文字列を戻す <tt>toString()</tt> に依存するア凄鱚跪阡纉窺糾ケーションは、1.4 のこの修正を認識する必要があります。齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿 <a href="http://developer.java.sun.com/developer/bugParade/bugs/4239141.html">4239141</a> を参照してください。
<p>
<li>J2SE の 1.4 より前のバージョン <tt>InetAddress.getByName</tt> では、ネームサー姐に対する検索が失敗すると、そのホスト名に続くすべての検索も、同じ仮想マシンを使用し続ける間、失敗しました。
これは、鱚跪阡纉讙喘池繻鈿鶤蔗迪屬「〜でない」) 検索が常にキャ況轡紊気譴襪海箸彊任靴拭
窺ではこれが変更され、扱起鯵侫襯箸埜〆最圓靴討癲△△箸紡海〆論犠錣帽圓錣譴襪茲Δ砲覆蠅泙靴拭海譴脇辰法▲瀬ぅ筌襯虎環境、またはネームサー姐に頼らない環境に重要な変更です。
<p>
後続の検索が必ず失敗する動作に依存するア凄鱚跪阡纉窺糾ケーションは、このことを認識する必要があります。齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿 <a href="http://developer.java.sun.com/developer/bugParade/bugs/4256129.html">4256129</a> を参照してください。
さらに、鱚跪阡纉讙喘池繻鈿鶤蔗迪峺〆離齋鰻ングが <tt>java.security</tt> 憶些穏宜．ぅ襪嬢續鳬痲糅纉鶤竅竏絎鈬艨鹿凄鱚跪阡纉窺牛謄農罎任襪茲Δ砲覆蠅泙靴拭
腫殊蘊囂赱鱸では、IPv6 が少なくとも 1 つ (すべてではない) のインタ憶些穏宜А璽垢罵砲覆襪函賓ぢのア窺旧スのないインタ憶些穏宜А璽垢縫泪訐┌鱚跪阡纉窺祇┌ャストのインタ憶些穏宜А璽垢鮴瀋蠅靴茲Δ箸靴疹豺腓竅齡囂站續續侮鱠痺および MulticastSocket.setNetworkInterface が失敗します。 その結果、以下のような例外 SocketException が発生します。 
<blockquote><pre>
IPV6_MULTICAST_IF failed (interface has IPv4 address only?) 
</pre></blockquote>
この例外は、Solaris 8 の齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿によるもので、齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿 <a href="http://developer.java.sun.com/developer/bugParade/bugs/4418866.html">4418866</a> で追跡されています。

<p><li>Solaris 8 で IPv6 が有効な場合、ルー凄鱚跪阡纉窺黍傾ぅ鵐寝浦害叉孝ースを介したマル凄繻鈿鶤蔗迪凄礇好箸虻遒擦坤泪訐┌鱚跪阡纉窺祇┌ャス扱起鯵僖鰻紅を受け取ることができません (齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿 <a href="http://developer.java.sun.com/developer/bugParade/bugs/4491720.html">4491720</a> を参照)。Linux でも同様の問題があり、IP6v が有効な場合にマル凄繻鈿鶤蔗迪凄礇弘君欝角ケ傾箸鮗閏茲襪海箸任泙擦鵝

腫昭跚省癘俾癆肬鴉囈瘤籬鰾粡闔ぢでは新しい例外 <a href="../../../api/java/net/PortUnreachableException.html"><tt>java.net.PortUnreachableException</tt></a> が発生しています。 この例外は、<tt>DatagramSocket.send</tt> または <tt>DatagramSocket.receive</tt> によりスローされる場合があります。この例外がスローされるのは、DatagramSocket が (接続メソ険匹砲茲接続され、ICMP port unreachable がリモー扱起鯵∪┌繻鈿鶤蔗迪	窺糾ケーションが稼働していないことを示すために受信される場合です。例外 PortUnreachableException が発生することで、UDP ベースの凄鱚跪阡纉窺牛扱起鯵灰襪両屬充┐気譴訃豺腓△蠅泙后
腫以下に例外 PortUnreachableException の既知の問題について示します。
<ol>
<li>Solaris 8 で IPv6 が有効になると、IPv4 ホストからの ICMP port unreachable 姥吉が破棄されるように見えます。この問題は、Solaris 8 の齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿によるものであり、齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉谿 4422658 で追跡されます。

<li>Microsoft Windows の特定のリリース (特に Windows 98 および Windows NT) では、すべての ICMP port unreachable 姥携はオ凄譟紗鍛哢鶤鱚跪阡纉譯ングシス喘池繻鈿鶤蔗迪爐砲茲蠹擇貿亡気譴此⇔祿闥銜縺竏痰跂祷竇頸蜿がスローされません。これまで Microsoft からこの問題を修正した Windows Socket のア厳廛如璽箸魯螢蝓璽垢気譴討い泙擦鵝

殊蘊也銛では、UDP 姥紅がルー凄鱚跪阡纉窺黍弦譽垢冒気譟秒熔闥鱚痺葹碎の指示を受信する転送先ポート番号に UDP ア凄鱚跪阡纉窺糾ケーションが齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉譴ンドされていないと、例外 PortUnreachableException はスローされません。この問題は Linux カー鱚跪阡纉跌の問題で、現時点で奪舛漏稜Г気譴討い泙擦鵝
鹿闌
腫昭跚祥蜒鳫齒胄蜴粹では、ルー凄鱚跪阡纉窺黍慌譽垢砲茲蠢気譴襯如璽織哀薀爐臆鍵ぢ齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉譴トに制限されています。ア凄鱚跪阡纉窺糾ケーションが、ルー凄鱚跪阡纉窺黍慌譽垢臆鍵ぢ齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉譴トより大きい DatagramPacket を送信するために DatagramSocket.send を使用しようとすると、<tt>DatagramSocket.send</tt> メソ慌匹焚爾里茲Δ蔑祿閭諷辮闔
をスローします。
<blockquote><pre>
The message is larger than the maximum supported by the underlying transport
</pre></blockquote>
これまでに Microsoft からこの問題を修正した Windows Socket のア昂廛如璽箸漏稜Г気譴討い泙擦鵝

腫昭跚ぢ多くの Linux のインストールでは、<tt>InetAddress.getLocalHost()</tt> はルー凄鱚跪阡纉窺黍更譽渦勲握握羽ぢを示す InetAddress を返すことがあります。これは、多くの Linux インストールがホスト名をルー凄鱚跪阡纉窺黍更譽垢縫濤貢するために /etc/hosts を設定していることが原因になっています。ホストが静的な IP ア窺旧スを持っている場合は、ホスト名がホスト ア窺旧スにマ更廚気譴襪茲Δ少續祚蓖齡鷦ぢ憶些穏宜．ぅ襪鮟だ気垢詆廚△蠅泙后腫動的 DNS と DHCP を組み合わせて使用する場合は、2 つの選択肢があります。1 つ目は、hosts 憶些穏宜．ぅつまり「hosts: dns 憶些穏宜．ぅ襦の前に dns を使用するように、 <tt>/etc/nsswitch.conf</tt> 内のネームサー姐の検索順序を変更する方法です。2 つ目は、扱起鯵侫襯箸寮┌繻鈿鶤蔗迪	窺牛齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉譴ダ (<tt>-Dsun.net.spi.nameservice.provider.1=dns,sun</tt>) の代わりに、DNS ネームサー姐凄鱚跪阡纉窺牛齟繧闥覩蟆黼閭鶩苺蜆絲鈬裃鍛哢鶤鱚跪阡纉譴ダを使用するように InetAddress を設定する方法です。この問題は、<a href="http://developer.java.sun.com/developer/bugParade/bugs/4665037.html">4665037</a> で追跡されています。
</ul>
<!-- Body text ends here -->
<!-- ============================================================== -->
<HR SIZE=3 NOSHADE>

<TABLE summary="layout" BORDER="0" WIDTH="100%">
<TR VALIGN=TOP>

<TD>
<P><FONT SIZE="-2">
   Copyright &#169; 2002
   <A HREF="http://www.sun.com/">Sun Microsystems, Inc.</A>
    All Rights Reserved.</FONT></P>
</TD>

<TD ALIGN=RIGHT>
   <IMG SRC="../../../docs/images/sunlogo64x30.gif" ALT="Sun">
</TD>

</TR>
</TABLE>

</body>
</html>
