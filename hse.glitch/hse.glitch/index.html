<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <html>
    <head>
        <title>GLiTCH! aka ダルセン's GLiTCHER</title>
        <meta http-equiv="Content-Type" content="text/html, charset=utf-8" />
        <script src="js/knockout-3.3.0.js" type="text/javascript"></script>
        <script src="js/processing.js" type="text/javascript"></script>
        <script src="js/aes.js" type="text/javascript"></script>
        <link rel="stylesheet" href="css/font-awesome.min.css" />
        <link rel="stylesheet" href="css/index.css" />
    </head>

    <body id="body" lang="en">

        <div class="wrapper">
            <div class="head" id="head">
                <div class="insetbox botpage">
                    <div class="toplogo">
                        <span class="ft22">
                            <span class="fa" style="width: 12px; margin-left: 1px; margin-right: 8px; text-align: center;" data-bind="html: logo()"></span>
                            <span class="pname"><span class="psquish">GL</span>iTC<span class="psquish">H!</span></span>
                            </>
                    </div>
                </div>
                <div class="docowner"><tt><span lang="nl" title="Darusen">ダルセン</span>'s<span class="lighter">GLiTCHER<br /><sup><small><i>v<span data-bind="text: version" /></i></small></sup></span></tt></div>
                <div class="topmenu">
                    <nav>
                        <div id="topmenubar">
                            <span class="menubutton"><u>O</u>pen</span><input type="file" id="filer" class="menubutton hiddenfiler" />
                            <span class="menubutton" data-bind="click: function () { filtermenuvisible(!filtermenuvisible()); }, clickBubble: false"><u>E</u>dit</span> <span class="menubutton"><u>V</u>iew</span> <span class="menubutton"><u>H</u>elp</span>
                        </div>
                    </nav>
                    <div class="clear"></div>
                </div>
            </div>
            <div class="orangebar">
                <span>&nbsp;</span>
                <div class="sidebarbuttons">
                    <div class="sidebarbuttonsmargin">
                        <!--  <span class="fa fa-h-square"></span>
                          <span class="fa fa-ambulance"></span>
                          <span class="fa fa-medkit"></span>
                          <span class="fa fa-plus-square"></span>
                          <span class="fa fa-heartbeat"></span>
                          <span class="fa fa-wheelchair"></span>-->
                    </div>
                </div>
            </div>
            <div class="worksheet insetbox" id="worksheet">
                <canvas height="1536" width="2048" data-processing-sources="pde/index2/index2.pde" id="canvas"></canvas>
            </div>
            <div id="filtermenu" data-bind="visible: filtermenuvisible()">
                <div class="filterbutton menubutton" onclick="filtclick('vhs');">vhs</div>
                <div class="filterbutton menubutton" onclick="filtclick('vertz');">vertz</div>
                <div class="filterbutton menubutton" onclick="filtclick('horz');">horz</div>
                <div class="filterbutton menubutton" onclick="filtclick('pip');">pip</div>
                <div class="filterbutton menubutton" onclick="filtclick('invert');">invert</div>
            </div>
            <!--//
            <div class="botbanner">
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <ins class="adsbygoogle"
                     style="display:inline-block;width:728px;height:90px"
                     data-ad-client="ca-pub-1922521249916098"
                     data-ad-slot="3219768993"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
                      //-->
            <script type="text/javascript">
                function __(id) {
                    return document.getElementById(id);
                }
                var viewData = {
                    version: "0.0.0a",
                    height: (function () { return document.body.offsetHeight; }),
                    height: (function () { return document.body.offsetWidth; }),
                    headHeight: (function () { return __('head').offsetHeight; }),
                    logo: function () {
                        var low = 0xf042;
                        var high = 0xf259;
                        var diff = high - low;
                        var res = Math.floor(Math.random() * diff) + low;
                        //alert(res.toString(16));
                        return "&#x" + res.toString(16) + ";";
                    },
                    worksheet: function () {
                        return "top: 50px; left: 30px; width: 400px; height: 300px; background: green;";
                    },
                    filtermenuvisible: ko.observable(false),

                };
                ko.applyBindings(viewData, __('body'));

                function handleFiler(e) {
                    var fileList = e.target.files;
                    for (var i = 0, l = fileList.length; i < l; i++) {
                        var fil = fileList[i];
                        if (!fil.type.match('image.*')) {
                            continue;
                        }
                        var reader = new FileReader();;
                        reader.onload = (function (theFile) {
                            return function (e) {
                                //var s = document.createElement('span');
                                //s.innerHTML = "<img src=\"" + e.target.result + "\">";
                                //__('worksheet').appendChild(s);
                                loadFile(e.target.result);
                            };
                        })(fil);
                        reader.readAsDataURL(fil);
                    }
                }

                __('filer').addEventListener('change', handleFiler, false);

                function loadFile(datauri) {
                    //    alert(datauri);
                    var pi = Processing.getInstanceById('canvas');
                    pi.setImage(datauri);
                }
                function filtclick(arg) {
                    var pi = Processing.getInstanceById('canvas');
                    pi.menuClick(arg);
                }


            </script>




        </div>
    </body>
</html>
<!-- hse.glitch references -->
<!--<link href="css/index.css" rel="stylesheet" />
</head>
<body>

    <script src="cordova.js"></script>
    <script src="js/platformOverrides.js"></script>

    <script src="js/index.js"></script>
</body>
</html>-->
