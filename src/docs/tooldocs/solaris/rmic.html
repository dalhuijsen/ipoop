<HTML>
<HEAD>
   <META NAME="GENERATOR" CONTENT="Mozilla/4.02 [en] (X11; U; SunOS 5.6 sun4u) [Netscape]">
   <TITLE>rmic - The Java RMI Compiler</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<H1>
rmic - The Java RMI Compiler</H1>

<BLOCKQUOTE><B>rmic</B> generates stubs, skeletons, ties for
remote objects using either the JRMP or IIOP protocols. Also
generates OMG IDL.</BLOCKQUOTE>

<H2>
SYNOPSIS</H2>

<BLOCKQUOTE>
<PRE>rmic [ <A HREF="rmic.html#Options">options</A> ] <I>package-qualified-class-name(s)</I></PRE>
</BLOCKQUOTE>

<H2>
DESCRIPTION</H2>

<BLOCKQUOTE>The <B>rmic</B> compiler generates stub, and skeleton class
files (JRMP protocol), and stub and tie class files (IIOP protocol) for
remote objects. These classes files are generated from the compiled
Java programming language classes that contain remote object
implementations. A remote object is one that implements the interface
<TT>java.rmi.Remote</TT>.  The classes named in the <B>rmic</B> command
must be classes that have been compiled successfully with the
<B>javac</B> command and must be fully package qualified. For example,
running <B>rmic</B> on the class file name <TT>HelloImpl</TT> as shown
here:  <PRE>rmic hello.HelloImpl</PRE> creates the
<TT>HelloImpl_Skel.class</TT> and <TT>HelloImpl_Stub.class</TT> files
in the <tt>hello</tt> subdirectory (named for the class's package).

<P>A <i>skeleton</i> for a remote object is a JRMP protocol server-side
entity  that contains a method which dispatches calls to the actual
remote object implementation.

<p> A <i>tie</i> for a remote object is a server-side entity similar to
a skeleton, but which communicates with the client using the IIOP
protocol.

<P>A <i>stub</i> is a proxy for a remote object which is responsible
for forwarding method invocations on remote objects to the server where
the actual remote object implementation resides. A client's reference
to a remote object, therefore, is actually a reference to a local stub.
JRMP protocol stubs are generated by default. Use the <a
href="#iiop"><code>-iiop</code> option</a> to generate stubs for the
IIOP protocol.

<P>The stub implements only the remote interfaces, not any local
interfaces that the remote object also implements. Because a JRMP stub
implements exactly the same set of remote interfaces as the remote
object itself, a client can use the Java programming language's
built-in operators for casting and type checking.  For IIOP, the
<tt>PortableRemoteObject.narrow</tt> method must be used.

</BLOCKQUOTE>
<A NAME="Options"></A>
<H2>
OPTIONS</H2>

<BLOCKQUOTE>
<DL>

<DT>
<B>-bootclasspath path</B></DT>
<DD>
Override location of bootstrap class files</DD>
<p>
<DT>
<B>-classpath path</B></DT>

<DD>
Specifies the path <B>rmic</B> uses to look up classes. This option overrides
the default or the CLASSPATH environment variable if it is set. Directories
are separated by colons. Thus the general format for <I>path</I> is:</DD>

<BLOCKQUOTE>
<PRE>.:&lt;your_path></PRE>
</BLOCKQUOTE>
For example:
<BLOCKQUOTE>
<PRE>.:/usr/local/java/classes</PRE>
</BLOCKQUOTE>

<DT>
<B>-d directory</B></DT>

<DD>
Specifies the destination root directory for the generated class
hierarchy. You can use this option to specify a destination directory
for the stub, tie, and skeleton files. For example, the command</DD>
<p>
<b>Windows</b>:
<BLOCKQUOTE>
<PRE>% rmic -d C:\java\classes foo.MyClass</PRE>
</BLOCKQUOTE>

<p>
<b>Solaris</b>:
<BLOCKQUOTE>
<PRE>% rmic -d /java/classes foo.MyClass</PRE>
</BLOCKQUOTE>

would place the stub and skeleton classes derived from
<code>MyClass</code> into the directory <TT>C:\java\classes\foo</TT>.
If the <TT>-d</TT> option is not specified, the default behavior is as
if "-d ." were specified: the package hierarchy of the target class is
created in the current directory, and stub/tie/skeleton files are
placed within it. Note that in previous versions of <tt>rmic</tt>, if
<tt>-d</tt> was not specified the package hierarchy was <i>not</i>
created, and the output files were placed directly in the current
directory.
<BR>&nbsp;
<DT>
<B>-depend</B></DT>

<DD>
Makes the compiler consider recompiling classes which are referenced from
other classes. Normally, it only recompiles missing or out-of-date classes
that are referred to from source code.</DD>
<p>

<DT>
<B>-extdirs path</B></DT>        

<DD>Override location of installed extensions</DD>

<p>
<DT>
<B>-g</B></DT>

<DD>
Enables generation of debugging tables. Debugging tables contain information
about line numbers and local variables - information used by Java debugging
tools. By default, only line numbers are generated.</DD>
<p>

<dt>
<b>-idl</b></dt>
<dd>
Causes <TT>rmic</TT> to generate OMG IDL for the classes specified and
any classes referenced.  IDL provides a purely declarative, programming
language-independent way of specifying an object's API.  The IDL is
used as a specification for methods and data that can be written in and
invoked from any language that provides CORBA bindings.  This includes
Java and C++ among others. 
<p>
When the <code>-idl</code> option is used, other options also
include:</DD><p>
<dl>
	<dt> <b>-always</b> or <b>-alwaysgenerate</b></dt> <dd> Forces
	re-generation even when existing stubs/ties/IDL are newer than
	the input class. 
	</dd>

	<dt> <b>-factory</b></dt> <dd> Uses factory keyword in
	generated IDL.
	</dd>

	<dt> <b>-idlModule&nbsp; fromJavaPackage[.class]&nbsp;
	toIDLModule</b></dt> <dd> Specifies IDLEntity package
	mapping. For example:&nbsp; <tt>-idlModule foo.bar
	my::real::idlmod</tt>.
	</dd>

	<dt> <b>-idlFile&nbsp; fromJavaPackage[.class]&nbsp;
	toIDLFile</b></dt> <dd> Specifies IDLEntity file mapping.
	For example:&nbsp; <tt>-idlFile test.pkg.X
	TEST16.idl</tt>.&nbsp; 	</dd>

</dl>

<p>

<DT><a name="iiop"></a>
<dt>
<b>-iiop</b></dt>
<dd>
Causes <code>rmic</code> to generate IIOP stub and tie classes, rather
than JRMP stub and skeleton classes.  A stub class is a local proxy for
a remote object and is used by clients to send calls to a server.
Each remote interface requires a stub class, which implements that
remote interface.  A client's reference to a remote object is actually
a reference to a stub. Tie classes are used on the server side to
process incoming calls, and dispatch the calls to the proper
implementation class. Each implementation class requires a tie class.
<p>
Invoking <tt>rmic</tt> with the <tt>-iiop</tt> generates
stubs and ties that conform to this naming convention:

<blockquote>
<pre>
_&lt;implementationName&gt;_stub.class
<br>
_&lt;interfaceName&gt;_tie.class
</pre>
</blockquote>
<p>
When the <code>-iiop</code> option is used, other options also
include:</DD><p>
<dl>
	<dt> <b>-always</b> or <b>-alwaysgenerate</b></dt> <dd> Forces
	re-generation even when existing stubs/ties/IDL are newer than
	the input class. 
	</dd>
	
	<DT><B>-nolocalstubs</B></DT>
	<dd>
	Do not create stubs optimized for same-process clients and
	servers.
	</dd>
	
	<dt>
	<b>-noValueMethods</b></dt>
	<dd>
	Must be used with the <code>-idl</code> option.  Prevents
	addition of <tt>valuetype</tt> methods and initializers to
	emitted IDL.  These methods and initializers are optional for
	<tt>valuetype</tt>s, and are generated unless the
	<tt>-noValueMethods</tt> option is specified when using the
	<tt>-idl</tt> option.</dd>
	
	<DT><B>-poa</B></DT>
	<dd>Changes the inheritance from
	<tt>org.omg.CORBA_2_3.portable.ObjectImpl</tt> to
	<tt>org.omg.PortableServer.Servant</tt>.

 	<P>The <tt>PortableServer</tt> module for the <a href="../../guide/idl/POA.html">Portable Object Adapter</a>
 	(POA) defines
 	the native <tt>Servant</tt> type. In the Java programming language,
 	the <tt>Servant</tt>
 	type is mapped to the Java <tt>org.omg.PortableServer.Servant</tt> class.  It
 	serves as the base class for all POA servant implementations and
 	provides a number of methods that may be invoked by the application
 	programmer, as well as methods which are invoked by the POA itself and
 	may be overridden by the user to control aspects of servant behavior.
 	Based on the OMG IDL to Java Language Mapping Specification, CORBA V
	2.3.1 ptc/00-01-08.pdf.
	</dd><p>

</dl>

<p>
<DT>
<B>-J</B></DT>

<DD>
Used in conjunction with any <tt>java</tt> option, it passes the option
following the <TT>-J</TT> (no spaces between the -J and the option) on
to the <tt>java</tt> interpreter.</DD>

<p>

<DT>
<B>-keep</b> or <B>-keepgenerated</B></DT>

<DD>
Retains the generated <TT>.java</TT> source files for the stubs and skeletons
and writes them to the same directory as the <TT>.class</TT> file.</DD>

<p>

<DT>
<B>-nowarn</B></DT>

<DD>
Turns off warnings. If used the compiler does not print out any warnings.</DD>

<p>

<DT>
<B>-vcompat</B></DT>

<DD>
(default) Creates stubs and skeletons compatible with both 1.1 and
1.2 JRMP stub protocol versions.</DD>

<p>

<DT>
<B>-verbose</B></DT>

<DD>
Causes the compiler and linker to print out messages about what classes
are being compiled and what class files are being loaded.</DD>

<p>

<DT>
<B>-v1.1</B></DT>

<DD>
Create stubs and skeletons for 1.1 JRMP stub protocol version.</DD>

<p>

<DT>
<B>-v1.2</B></DT>

<DD>
Create stubs for the 1.2 JRMP stub protocol version only.</DD>
</DL>
</BLOCKQUOTE>
<p>
<H2>
ENVIRONMENT VARIABLES</H2>

<BLOCKQUOTE>
<DL>
<DT>
<B>CLASSPATH</B></DT>

<DD>
Used to provide the system a path to user-defined classes. Directories
are separated by colons. For example,</DD>

<BLOCKQUOTE>
<PRE>.:/usr/local/java/classes</PRE>
</BLOCKQUOTE>
</DL>
</BLOCKQUOTE>

<H2>
SEE ALSO</H2>

 

<BLOCKQUOTE>
<A HREF="java.html">java</A>,
<A HREF="javac.html">javac</A>, 
<A HREF="classpath.html">CLASSPATH</A></BLOCKQUOTE>


<HR SIZE=3 NOSHADE>
<a href="#skip" title="Skip navigation bar"></a>
<TABLE BORDER="0" WIDTH="100%" summary="layout">
<TR VALIGN=TOP>
<TD>
<P><FONT SIZE="-2">
  <A HREF="../../relnotes/SMICopyright.html">Copyright</A> &#169; 2003
  <A HREF="http://www.sun.com">Sun Microsystems, Inc.</A>
  All Rights Reserved.</FONT></P>
</TD>
<TD ALIGN=RIGHT>
  <IMG SRC="../../images/sunlogo64x30.gif" ALT="Sun" BORDER=0 WIDTH=64 HEIGHT=30>
  <BR>
  <FONT SIZE="+1">
  <i>Java Software</i>
  </FONT>
</TD>
</TR>
</TABLE>
<a name="skip"></a>
</BODY>
</HTML>


