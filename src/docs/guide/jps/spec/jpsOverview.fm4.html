<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<html>
<head>
<title>Java Print Service API User Guide: 1 - Introduction

</title>
</head>
<body bgcolor="#ffffff">
 
<table summary="layout" width="100%"><tr>
<td><!-- Bug in Communicator w/font: NavBar text disappears for Times 14pt pref. -->
<!-- font size="-1" --> <a href="JPSTOC.fm.html">CONTENTS</a> | <a href="jpsOverview.fm3.html">PREV</a>
 | <a href="attributes.fm.html">NEXT</a> <!-- | <a href="jps_glossaryapp.fm.html">INDEX</a>  -->
<!-- /font --></td><td align=right><i>Java<sup><font size="-1">TM</font></sup></font> Print Service API User Guide</i></td>
</tr></table>
<br>
 

<p>
<hr size="8" width="35%" align="left" noshade>

<h2><a name="998377"><i></i> How Applications Use the Java Print Service
</a></h2>

<blockquote>
<a name="998411"><!-- --></a>
A typical application using the Java Print Service API performs these steps to process a print request:<p>
<ol><li>Obtain a suitable DocFlavor, which is a class that defines the format of the print data.
<li>Create and populate an AttributeSet, which encapsulates a set of attributes that describe the desired print service capabilities, such as the ability to print five copies, stapled, and double-sided.
<li>Lookup a print service that can handle the print request as specified by the DocFlavor and the attribute set.
<li>Create a print job from the print service.
<li>Call the print job&#39;s print method.
</ol>
The application performs these steps differently depending on what and how it intends to print. The application can either send print data to a printer or to an output stream. The print data can either be a document in the form of text or images, or a Jav
a object encapsulating 2D Graphics. If the print data is 2D graphics , the print job can be represented by either a DocPrintJob or a PrinterJob. If the print data is a document then a DocPrintJob must be used.<p>
<a name="998678"><!-- --></a>
The combinations of printing methods and print data formats yield a choice of six printing mechanisms:<p>
</blockquote>
<blockquote>
<ul><li>
<a name="998412"><!-- --></a>
Print a document to a printer by using a DocPrintJob and an implementation of PrintService
</li>
<li>
<a name="998413"><!-- --></a>
Stream a document to an output stream by using a DocPrintJob and a StreamPrintService
</li>
<li>
<a name="998476"><!-- --></a>
Print 2D graphics to a printer by using a DocPrintJob and an implementation of PrintService
</li>
<li>
<a name="999368"><!-- --></a>
Stream 2D graphics to an output stream by using a DocPrintJob and a StreamPrintService
</li>
<li>
<a name="999363"><!-- --></a>
Print 2D graphics to a PrintService using java.awt.print.PrinterJob 
</li>
<li>
<a name="998503"><!-- --></a>
Stream 2D graphics to a StreamPrintService using java.awt.print.PrinterJob 
</li>
</ul>
</blockquote>
<blockquote>
<a name="999220"><!-- --></a>
The Attributes chapter and the Specifying Document Types chapter describe how to create an attribute set and specify document types for use with any of the print mechanisms. The <a href="printing.fm.html#996958"><em>Printing and Streaming Documents</em></
a> chapter discusses printing and streaming documents using DocPrintJob. The <a href="printing2d.fm.html#"><em>Printing and Streaming 2D Graphics</em></a> chapter explains printing and streaming 2D graphics using both DocPrintJob and PrinterJob. <p>
</blockquote>
<br>
<h3>
<a name="998638"><!-- --></a>
<i></i> A Basic Example
</h3>

<blockquote>
<a name="998637"><!-- --></a>
Most applications using the Java Print Service API will probably send a document directly to a printer, which the following code sample demonstrates:<p>
<a name="998651"><!-- --></a>
<blockquote><pre>// Input the file
FileInputStream textStream; 
try { 
	textstream = new FileInputStream("file.TXT"); 
} catch (FileNotFoundException ffne) { 
} 
if (textstream == null) { 
	return; 
} 
// Set the document type
DocFlavor myFormat = DocFlavor.INPUT_STREAM.TEXT_PLAIN_ASCII;
// Create a Doc
Doc myDoc = new SimpleDoc(texttream, myFormat, null); 
// Build a set of attributes
PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet(); 
aset.add(new Copies(5)); 
aset.add(MediaSize.ISO_A4);
aset.add(Sides.DUPLEX); 
// discover the printers that can print the format according to the
// instructions in the attribute set
PrintService[] services =
	PrintServiceLookup.lookupPrintServices(myFormat, aset);
// Create a print job from one of the print services
if (services.length &gt; 0) { 
	DocPrintJob job = services[0].createPrintJob(); 
	try { 
		job.print(myDoc, aset); 
	} catch (PrintException pe) {} 
} 
</pre></blockquote>
<a name="998943"><!-- --></a>
Although this sample only demonstrates one of the six ways to print, the other printing mechanisms work in a similar way. The rest of this guide discusses each piece of the printing process and all the printing mechanisms in more detail<p>
<a name="997030"><!-- --></a>
<p>
<a name="996814"><!-- --></a>
<p>
</blockquote>

<br>
<hr>
<!-- Bug in Communicator w/font: NavBar text disappears for Times 14pt pref. -->
<!-- font size="-1" --> <a href="JPSTOC.fm.html">CONTENTS</a> | <a href="jpsOverview.fm3.html">PREV</a>
 | <a href="attributes.fm.html">NEXT</a> <!-- | <a href="jps_glossaryapp.fm.html">INDEX</a>  -->
<!-- /font -->

<hr>
<font size="-1"><i><A HREF="../../../relnotes/SMICopyright.html">Copyright</a> &#169 2001 Sun Microsystems, Inc. All Rights Reserved.</i></font>




</body>
</html>
