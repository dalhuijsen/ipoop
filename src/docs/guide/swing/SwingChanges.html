<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<HTML>

<HEAD>

     <TITLE>Swing Changes and New Features</TITLE>

</HEAD>



<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#000077" ALINK="#FF0000">

<TABLE summary="layout" BORDER="0" WIDTH="100%">

<TR>

<TD WIDTH="60">

   <IMG SRC="../../images/javalogo52x88.gif" ALT="Java" BORDER=0 WIDTH=52 HEIGHT=88>

</TD>

<TD>

<center>

<h2>Swing Changes and New Features for Java<sup><font size=-2>TM</font></sup> 2 SDK, Standard Edition, v 1.4</h2>

</center>

</TD>


<TD ALIGN=RIGHT VALIGN=TOP>

   <font size="-1"><a href="index.html">Project Swing</a></font>

</TD>

</TR>

</TABLE>



<!-- Body text begins here -->
<h2>Changes Specific to releases 1.4.1 and 1.4.2</h2>
<p>This document contains information relevant to all 1.4.* releases.
For information specific to 1.4.1 and 1.4.2, see 
<a href=1.4/Post1.4.html>Swing Changes Since Java 2 SDK, Standard
Edition, v 1.4</a>.

    <H2>Major Changes</H2>
    <P> Certain features, typically ones that have a large impact on Swing, 
      have been extensively written up in separate documents. The following 
      link to these documents: </P>
    <UL>
      <li><a href=1.4/Post1.4.html#xp>Windows XP look and feel</a>
      <li><a href=1.4/Post1.4.html#gtk>GTK+ look and feel</a>
      <LI><A href=1.4/pb.html>Support for indeterminate progress bars</A></LI>
      <LI><A href=1.4/tabbedPane.html><CODE>JTabbedPane</CODE> with scrollable tabs</A></LI>
      <LI><A href=1.4/spinner.html><CODE>JSpinner</CODE></A></LI>
      <LI><A href=1.4/ftf.html><CODE>JFormattedTextField</CODE></A></LI>
      <LI><A href=1.4/popup.html><CODE>Popup</CODE> and <CODE>PopupFactory</CODE></A></LI>
      <LI><A href="../../api/java/awt/doc-files/FocusSpec.html">New Focus Model Specification</A> and <a href="../awt/1.4/focusAPIChanges.html">Javadoc</a>
      <LI><A href="1.4/windows.html">Windows look and feel update.</A>
      <LI><A href="1.4/dnd.html">The new Drag and Drop architecture.</a>
    </UL>
    <H2>Minor Changes</H2>
    <P> Each section contains changes for a set of related classes. Most 
      of the sections are focused on the classes that are part of a single 
      Swing component like <CODE>JEditorPane</CODE> or <CODE>JTable</CODE>. 
      Each API change is associated with a link to a report on the
      <A href="http://developer.java.sun.com/developer/bugParade"> 
      Java Developer Connection (JDC) Bug Parade </A>, where you'll find 
      the original bug or RFE ("request for enhancement") that motivated 
      the change. In this document you'll also find the following information 
      for each API change: 
    <UL>
      <LI> The method signatures with a link to the Javadoc for
        new methods or methods 
	whose semantics have changed. 
      <LI> A brief description of the overall change and how to take advantage 
	of it. You'll probably find this same material in the evaluation 
	section of the bug/rfe report. 
      <LI> If the API change corrects a long standing bug or provides 
	a missing feature - suggestions about how to migrate typical
        workarounds or extensions to the new feature. 
      <LI> Nearly all changes (even bugfixes!) introduce some kind of 
	incompatibility. We've done our best to predict these incompatibilities 
	and provide advice about how to avoid them. 
    </UL>
    <P> 
    <H3>Sections</H3>
    <UL>
      <LI><A href="#Box"><CODE>Box</CODE></A></LI>
      <LI><A href="#JButton"><CODE>JButton</CODE></A></LI>
      <LI><A href="#JComboBox"><CODE>JComboBox</CODE></A></LI>
      <LI><A href="#JFileChooser"><CODE>JFileChooser</CODE></A></LI>
      <LI><A href="#JInternalFrame"><CODE>JInternalFrame</CODE></A></LI>
      <LI><A href="#JList"><CODE>JList</CODE></A></LI>
      <LI><A href="#JOptionPane"><CODE>JOptionPane</CODE></A></LI>
      <LI><A href="#JPopupMenu"><CODE>JPopupMenu</CODE></A></LI>
      <LI><A href="#JPanel"><CODE>JPanel</CODE></A></LI>
      <LI><A href="#JRootPane"><CODE>JRootPane</CODE></A></LI>
      <LI><A href="#JScrollBar"><CODE>JScrollBar</CODE></A></LI>
      <LI><A href="#JScrollPane"><CODE>JScrollPane</CODE></A></LI>
      <LI><A href="#JTabbedPane"><CODE>JTabbedPane</CODE></A></LI>
      <LI><A href="#JTable"><CODE>JTable</CODE></A></LI>
      <LI><A href="#JTextComponent"><CODE>JTextComponent</CODE></A></LI>
      <LI><A href="#JTree"><CODE>JTree</CODE></A></LI>
      <LI><A href="#RepaintManager"><CODE>RepaintManager</CODE></A></LI>
      <LI><A href="#SpringLayout"><code>SpringLayout</code></a></li>
      <LI><A href="#Miscellaneous">Miscellaneous</A></LI>
      <LI><A href="#KnownBugs">Known Bugs</A></LI>
    </UL>
    <HR>
    <H2><A name="Box">Box</A></H2>
    <blockquote>
    <H3>Box now descends from JComponent</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4304100.html"> 
      4304100</A>. </P>
    <P> Historically, the superclass for <CODE>Box</CODE> has been
      <CODE>Component</CODE>. 
      Since <CODE>Box</CODE> did not descend from <CODE>JComponent</CODE>, 
      you could not use it like a normal Swing component, for example, you 
      couldn't set the borders, or issue <code>revalidate</code>.
      Not only this, but changing visibility, or other similiar
      visual properties, on a standard Swing component typically
      triggers a <code>repaint</code> or <code>revalidate</code>, 
      but <CODE>Box</CODE> did not conform to this behavior. As of this
      release, <a href="../../api/javax/swing/Box.html"><CODE>Box</CODE></a>
      and <a href="../../api/javax/swing/Box.Filler.html">
      <CODE>Box.Filler</CODE></a> now descend 
      from the <CODE>JComponent</CODE> superclass and therefore behave 
      more like standard Swing components. </P>
      </blockquote>

      <H3>BoxLayout Now Supports Right-to-Left and Bottom-to-Top 
	Component Orientations</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4140833.html"> 
	4140833</A>. </P>
      <P> <CODE>BoxLayout</CODE> did not consider the
        <CODE>ComponentOrientation</CODE> 
	of the <CODE>Container</CODE> it is laying out. Other AWT layout 
	managers were made to do this when the
        <CODE>ComponentOrientation</CODE> 
	feature was added in JDK 1.2. Adding this feature to
        <a href="../../api/javax/swing/BoxLayout.html">
        <CODE>BoxLayout</CODE></a>
	makes it useful for programs that support Middle East locales. 
	Because <CODE>BoxLayout</CODE> is also used internally by other 
	Swing components, such as <CODE>JOptionPane</CODE>,
        <CODE>JToolBar</CODE> 
	and <CODE>JMenuBar</CODE>, adding this feature is also necessary 
	for these components to support
        <a href="../../api/java/awt/ComponentOrientation.html">
        <CODE>ComponentOrientation</CODE></a>.
      <p>To support this functionality, the constants
        <a href="../../api/javax/swing/BoxLayout.html#LINE_AXIS">
        <code>LINE_AXIS</code></a> and 
        <a href="../../api/javax/swing/BoxLayout.html#PAGE_AXIS">
        <code>PAGE_AXIS</code></a>, and the constructor,
        <a href="../../api/javax/swing/BoxLayout.html#BoxLayout(java.awt.Container, int)">
        <code>BoxLayout(Container, int)</code></a>, were added to
        <a href="../../api/javax/swing/BoxLayout.html">
        <code>BoxLayout</code></a>.
     <p>There were also changes to several methods in
       <a href="../../api/javax/swing/SizeRequirements.html">
       <code>SizeRequirements</code></a>:
       <ul>
       <li><a href="../../api/javax/swing/SizeRequirements.html#calculateTiledPositions(int, javax.swing.SizeRequirements, javax.swing.SizeRequirements[], int[], int[], boolean)">
       <code>calculateTiledPositions(int,SizeRequirements,SizeRequirements[],int[],int[],boolean)</code></a>
       <li><a href="../../api/javax/swing/SizeRequirements.html#calculateTiledPositions(int, javax.swing.SizeRequirements, javax.swing.SizeRequirements[], int[], int[])">
       <code>calculateTiledPositions(int,SizeRequirements,SizeRequirements[],int[],int[])</code></a>
       <li><a href="../../api/javax/swing/SizeRequirements.html#calculateAlignedPositions(int, javax.swing.SizeRequirements, javax.swing.SizeRequirements[], int[], int[], boolean)">
       <code>calculateAlignedPositions(int,SizeRequirements,SizeRequirements[],int[],int[],boolean)</code></a>
       <li><a href="../../api/javax/swing/SizeRequirements.html#calculateAlignedPositions(int, javax.swing.SizeRequirements, javax.swing.SizeRequirements[], int[], int[])">
      <code>calculateAlignedPositions(int,SizeRequirements,SizeRequirements[],int[],int[])</code></a>
      </ul>
     </blockquote>
     </blockquote>
        

    <HR>
    <H2><A name="JButton">JButton</A></H2>
    <blockquote>

    <h3><a name=4659800>Default Button Follows the Focus on Windows LAF</a></h3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4659800.html"> 
      4659800</A>. </P>
    <p>With this bug, introduced in 1.4.0, the default button did
     not always follow the focus.  This has been fixed in 1.4.1.
    </blockquote>

    <H3>New Control of Highlighted Characters</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4138746.html"> 
      4138746</A>. </P>
    <P><a href="../../api/javax/swing/AbstractButton.html">
      <CODE>AbstractButton</CODE></a> and
      <a href="../../api/javax/swing/JLabel.html"><CODE>JLabel</CODE></a>
      both allow the developer to set a character, called the mnemonic,
      that can be used to perform an action when typed at the keyboard.
      The javadoc for these methods states that the first
      case-insensitive occurrence of the character is decorated.
      While this suits most developers, 
      often times a different occurrence of the character needs to be 
      highlighted. For example: in Notepad, 'a' is the accelerator for 
      <B>Save As</B>, but the second 'a' is decorated. Developers need 
      a way to be able to specify this. </P>
    <P> This is solved with the new
      <a href="../../api/javax/swing/AbstractButton.html#setDisplayedMnemonicIndex(int)">
      <CODE>AbstractButton.setDisplayedMnemonicIndex</CODE></a> and
      <a href="../../api/javax/swing/JLabel.html#setDisplayedMnemonicIndex(int)">
      <CODE>JLabel.setDisplayedMnemonicIndex</CODE></a> methods.
      Once you have specified a mnemonic, via the <CODE>setMnemonic</CODE> 
      or <CODE>setDisplayedMnemonic</CODE> methods, you can then 
      change the character that is highlighted via the
      <CODE>setDisplayedMnemonicIndex</CODE> method.  There are also
      new <a href="../../api/javax/swing/AbstractButton.html#getDisplayedMnemonicIndex()">
      <code>AbstractButton.getDisplayedMnemonicIndex</code></a> and
      <a href="../../api/javax/swing/JLabel.html#getDisplayedMnemonicIndex()">
      <code>JLabel.getDisplayedMnemonicIndex</code></a> methods.
      Finally, 
      <a href="../../api/javax/swing/plaf/basic/BasicGraphicsUtils.html#drawStringUnderlineCharAt(java.awt.Graphics, java.lang.String, int, int, int)">
      <code>drawStringUnderlineCharAt</code></a> has been added to
      <a href="../../api/javax/swing/plaf/basic/BasicGraphicsUtils.html">
      <code>javax.swing.plaf.basic.BasicGraphicsUtils</code></a>.<br><br>
     </blockquote>

    <H3>AbstractButton.configurePropertiesFromAction Now Honors
        ACTION_COMMAND_KEY Property</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4457940.html"> 
      4457940</A>. </P>
     <p>Previously,  the <a href="../../api/javax/swing/AbstractButton.html">
      <code>AbstractButton</code></a> methods
     <a href="../../api/javax/swing/AbstractButton.html#configurePropertiesFromAction(javax.swing.Action)">
      <code>configurePropertiesFromAction(Action)</code></a>
     and <a href="../../api/javax/swing/AbstractButton.html#configurePropertiesFromAction(javax.swing.Action, java.lang.Swing[])">
      <code>configurePropertiesFromAction(Action, String[])</code></a>
     did not honor the <code>ACTION_COMMAND_KEY</code> property.  That has now
     been addressed. This affects the javadoc for the
     <code>configurePropertiesFromAction</code> methods in the following subclasses of
     <code>AbstractButton</code>:
     <ul>
     <li><a href="../../api/javax/swing/JButton.html#configurePropertiesFromAction(javax.swing.Action)">
      <code>JButton.configurePropertiesFromAction(Action)</code></a>
     <li><a href="../../api/javax/swing/JMenu.html#configurePropertiesFromAction(javax.swing.Action)">
      <code>JMenu.configurePropertiesFromAction(Action)</code></a>
     <li><a href="../../api/javax/swing/JCheckBox.html#configurePropertiesFromAction(javax.swing.Action)">
      <code>JCheckBox.configurePropertiesFromAction(Action)</code></a>
     <li><a href="../../api/javax/swing/JRadioButton.html#configurePropertiesFromAction(javax.swing.Action)">
      <code>JRadioButton.configurePropertiesFromAction(Action)</code></a>
     </ul>
     </blockquote>
     </blockquote>

    <HR>
    <H2><A name="JComboBox">JComboBox</A></H2>
    <blockquote>
    <H3><A name="PopupMenuListener"></A>PopupMenuListener Added to JComboBox 
    <blockquote>
    </H3>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4287690.html"> 
      4287690</A>. 
    <P> Many developers have requested support for listeners to be notified 
      when a combo box's drop down menu is popped up, dismissed, or canceled. 
      Applications could use these listeners to lazily populate the combo 
      box's model with items. 
    <P> This feature wasn't provided in earlier versions of Swing because 
      there was some, probably academic, concern about supporting a listener 
      for a feature (the drop down menu) that some look and feel
      implementations might not provide. All of the look and feels
      that are shipped with Java, and all of the ones we've come across,
      do use a drop down menu to show all of the combo box items.
      Some developers have resorted to non-portable hacks to get the
      menu state change notifications. 
    <P> For this release, we added a
      <a href="../../api/javax/swing/event/PopupMenuListener.html">
      <CODE>PopupMenuListener</CODE></a> to
      <a href="../../api/javax/swing/JComboBox.html">
      <CODE>JComboBox</CODE></a>. So long as the underlying look and feel 
      supports an item menu, this listener can be used to perform actions 
      before and after the combo box menu appears.  Several new 
      <code>JComboBox</code> methods were required to support this feature:
<pre>
    public void <a href="../../api/javax/swing/JComboBox.html#addPopupMenuListener(javax.swing.event.PopupMenuListener)">addPopupMenuListener(PopupMenuListener l)</a>
    public void <a href="../../api/javax/swing/JComboBox.html#removePopupMenuListener(javax.swing.event.PopupMenuListener)">removePopupMenuListener(PopupMenuListener l)</a>
    public void <a href="../../api/javax/swing/JComboBox.html#firePopupMenuWillBecomeVisible()">firePopupMenuWillBecomeVisible()</a>
    public void <a href="../../api/javax/swing/JComboBox.html#firePopupMenuWillBecomeInvisible()">firePopupMenuWillBecomeInvisible()</a>
    public void <a href="../../api/javax/swing/JComboBox.html#firePopupMenuCanceled()">firePopupMenuCanceled()</a>
</pre>
      <BR>
    </blockquote>

    <H3>JComboBox Now Supports Prototype Cell for Lists</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4231298.html"> 
      4231298</A>. </P>
    <P><a href="../../api/javax/swing/JComboBox.html">
      <CODE>JComboBox</CODE></a> previously configured a renderer for every 
      item it displayed. For large lists this could take quite a while. 
      Instead, developers needed the ability to specify a prototype that 
      all cells match, so that the prototype is only checked once 
      instead of every cell. For this release,
      <a href="../../api/javax/swing/JComboBox.html#getPrototypeDisplayValue()">
      <code>getPrototypeDisplayValue</code></a> and
      <a href="../../api/javax/swing/JComboBox.html#setPrototypeDisplayValue(java.lang.Object)">
      <code>setPrototypeDisplayValue</code></a> have been added to
      <a href="../../api/javax/swing/JComboBox.html">
      <code>JComboBox</code></a>.
      <br><br>
     </blockquote>

      <H3>Javadoc for JComboBox and Related Classes Has
	Improved Documentation</H3>
     <blockquote>
      <P> The bugtraq report that corresponds to this change is <A
	  href="http://developer.java.sun.com/developer/bugParade/bugs/4394300.html"> 
	4394300</A>. 
      <P> Previously, public API for <CODE>JComboBox</CODE> and its UI 
	delegates contained javadoc which described the details of its
        implementation. 
	Refactoring and bug fixing over the course of its history had 
	made this javadoc out of date. The javadoc has been checked and 
	revised so that it describes the behavior of the method rather 
	than the implementation details. Also, some of the javadoc for 
	"protected" methods and fields which should really have been private 
	have been removed so that overriding or calling these methods 
	are not encouraged. 
      <P>The doc has been changed for 
       <a href="../../api/javax/swing/JComboBox.html">
       <code>JComboBox</code></a>,
       <a href="../../api/javax/swing/ComboBoxModel.html">
       <code>ComboBoxModel</code></a>, 
       <a href="../../api/javax/swing/MutableComboBoxModel.html">
       <code>MutableComboBoxModel</code></a>,
       <a href="../../api/javax/swing/plaf/basic/BasicComboBoxUI.html">
       <code>javax.swing.plaf.basic.BasicComboBoxUI</code></a>,
       <a href="../../api/javax/swing/plaf/basic/ComboPopup.html">
       <code>javax.swing.plaf.basic.ComboPopup</code></a>, and
       <a href="../../api/javax/swing/plaf/basic/BasicComboPopup.html">
       <code>javax.swing.plaf.basic.BasicComboPopup</code></a>.<br><br>
      </blockquote>
      </blockquote>

    <HR>
      <H2><A name="JFileChooser">JFileChooser</A></H2>
      <blockquote>
      <H3>JFileChooser Windows Look and Feel Improved</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is <A
      href="http://developer.java.sun.com/developer/bugParade/bugs/4290709.html"> 
	4290709</A>. 
      <P> Although Swing's <CODE>JFileChooser</CODE> closely resembles 
	the Microsoft Windows common file dialog under the Windows look and feel, 
	there are several deficiencies for which we have received complaints. 
	In particular, the Microsoft Windows aesthetics guide mentions 
	the following: 
      <P> If you cannot use the [common] Open and Save As dialog boxes, 
	you should incorporate the following features into your open and 
	save dialog boxes to ensure that they are consistent with the 
	shell, the Windows accessories, and other applications: 
      <UL>
	<LI>Support the same namespace hierarchy as the shell; that is, 
	  Desktop should be at the root of the hierarchy, followed by 
	  all folders and objects on the desktop, including My Computer, 
	  My Network, and so on. [...] 
	<LI>Support shortcuts (also known as shell links). [...] 
	<LI> Display filenames with the corresponding icons and filename 
	  extensions removed, as the shell does. 
	<LI> Allow the user to browse the network hierarchy directly. 
	<LI> Make sure that all of your dialog boxes (not just your open 
	  and save dialog boxes) use only nonbold fonts. [...] 
      </UL>
      <P> The first four points are not possible in Swing without additional 
	API support from the AWT. The AWT common file dialog is also currently 
	an unacceptable solution for the following reasons: 
      <UL>
	<LI> It cannot be embedded into a frame or dialog like JFileChooser. 
	<LI> Filename filter is not implemented and is difficult to implement 
	  on Windows. 
      </UL>
      <P>The new functionality is accomplished by adding
        the following public methods to the
        <a href="../../api/javax/swing/filechooser/FileSystemView.html">
        <CODE>javax.swing.filechooser.FileSystemView</CODE></a>
        class, providing file and directory 
	information beyond the scope of the <code>File</code> class:
<pre>
    public boolean <a href="../../api/javax/swing/filechooser/FileSystemView.html#isTraversable(java.io.File)">isTraversable(File f)</a>
    public String <a href="../../api/javax/swing/filechooser/FileSystemView.html#getSystemDisplayName(java.io.File)">getSystemDisplayName(File f)</a>
    public String <a href="../../api/javax/swing/filechooser/FileSystemView.html#getSystemTypeDescription(java.io.File)">getSystemTypeDescription</a>
    public Icon <a href="../../api/javax/swing/filechooser/FileSystemView.html#getSystemIcon(java.io.File)">getSystemIcon(File f)</a>
    public boolean <a href="../../api/javax/swing/filechooser/FileSystemView.html#isParent(java.io.File, java.io.File)">isParent(File folder, File file)</a>
    public File <a href="../../api/javax/swing/filechooser/FileSystemView.html#getChild(java.io.File, java.lang.String)">getChild(File parent, String filename)</a>
    public boolean <a href="../../api/javax/swing/filechooser/FileSystemView.html#isFileSystem(java.io.File)">isFileSystem(File f)</a>
    public boolean <a href="../../api/javax/swing/filechooser/FileSystemView.html#isFileSystemRoot(java.io.File)">isFileSystemRoot(File dir)</a>
    public boolean <a href="../../api/javax/swing/filechooser/FileSystemView.html#isDrive(java.io.File)">isDrive(File dir)</a>
    public boolean <a href="../../api/javax/swing/filechooser/FileSystemView.html#isFloppyDrive(java.io.File)">isFloppyDrive(File dir)</a>
    public boolean <a href="../../api/javax/swing/filechooser/FileSystemView.html#isComputerNode(java.io.File)">isComputerNode(File dir)</a>
    public File <a href="../../api/javax/swing/filechooser/FileSystemView.html#createFileSystemRoot(java.io.File)">createFileSystemRoot(File f)</a>
    public File[] <a href="../../api/javax/swing/filechooser/FileSystemView.html#getRoots()">getRoots()</a>
</pre>
      <P> The <CODE>isTraversable</CODE> method has been removed from 
	<CODE>javax.swing.plaf.basic.BasicFileChooserUI.BasicFileView</CODE> 
	so that the superclass's implementation is used. 
      <P><a href="../../api/javax/swing/plaf/metal/MetalFileChooserUI.html#createListSelectionListener(javax.swing.JFileChooser)">
        <code>createListSelectionListener</code></a> has been added to
        <a href="../../api/javax/swing/plaf/metal/MetalFileChooserUI.html">
        <code>javax.swing.plaf.metal.MetalFileChooserUI</code></a>.
    <p>Also, 
      <a href="../../api/javax/swing/plaf/basic/BasicDirectoryModel.html">
      <code>javax.swing.plaf.basic.BasicDirectoryModel</code></a>
      has the following changes:
<pre>
    public void <a href="../../api/javax/swing/plaf/basic/BasicDirectoryModel.html#intervalAdded(javax.swing.event.ListDataEvent)">intervalAdded(ListDataEvent e)</a>
    public void <a href="../../api/javax/swing/plaf/basic/BasicDirectoryModel.html#intervalRemoved(javax.swing.event.ListDataEvent)">intervalRemoved(ListDataEvent e)</a>
    public void <a href="../../api/javax/swing/plaf/basic/BasicDirectoryModel.html#renameFile(java.io.File, java.io.File)">renameFile(File oldFile, File newFile)</a>
</pre><br><br>
     </blockquote>

      <H3>New Ability to Specify Characteristics of Open Directory Button 
	in JFileChooser</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is <A
      href="http://developer.java.sun.com/developer/bugParade/bugs/4318785.html"> 
	4318785</A>. 
      <P> Look and feels need the ability to specify the text, tooltip 
	text, and mnemonic for the button used to open a directory in 
	<code>JFileChooser</code>. </P>
      <P>To support this, several constants and methods were added to 
       <a href="../../api/javax/swing/plaf/basic/BasicFileChooserUI.html">
       <code>plaf.basic.BasicFileChooserUI</code></a>:
<pre>
    protected int <a href="../../api/javax/swing/plaf/basic/BasicFileChooserUI.html#directoryOpenButtonMnemonic">directoryOpenButtonMnemonic = 0;</a>
    protected String <a href="../../api/javax/swing/plaf/basic/BasicFileChooserUI.html#directoryOpenButtonText">directoryOpenButtonText = null</a>
    protected String <a href="../../api/javax/swing/plaf/basic/BasicFileChooserUI.html#directoryOpenButtonToolTipText">directoryOpenButtonToolTipText = null</a>
    protected boolean <a href="../../api/javax/swing/plaf/basic/BasicFileChooserUI.html#isDirectorySelected()">isDirectorySelected()</a>
    protected void <a href="../../api/javax/swing/plaf/basic/BasicFileChooserUI.html#setDirectorySelected(boolean)">setDirectorySelected(boolean b)</a>
    protected File <a href="../../api/javax/swing/plaf/basic/BasicFileChooserUI.html#getDirectory()">getDirectory()</a>
    protected void <a href="../../api/javax/swing/plaf/basic/BasicFileChooserUI.html#setDirectory(java.io.File)">setDirectory(File f)</a>
</pre>
    </blockquote>

      <H3><a name=4218431>Multiple File Selection Supported</a></H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is <A
      href="http://developer.java.sun.com/developer/bugParade/bugs/4218431.html">
        4218431</A>.
      <P>Multiple file selection was added to <code>JFileChooser</code>
         in the 1.4 release, but the javadoc for
<a href="../../api/javax/swing/JFileChooser.html#setMultiSelectionEnabled(boolean)">
         <code>setMultiSelectionEnabled</code></a> wasn't updated until the 1.4.1 release.

    </blockquote>
    </blockquote>


    <HR>
      <H2><A name="JInternalFrame">JInternalFrame</A></H2>
      <blockquote>
      <H3>JInternalFrame Now Truncates Titles That are Too Long</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is <A
      href="http://developer.java.sun.com/developer/bugParade/bugs/4134077.html"> 
	4134077</A>. 
      <P> Previously, the title of an internal frame would not be clipped 
	if it was too long. This would lead to the title displaying over 
	parts of the icons, as well no visual feedback to the user that 
	the title had been clipped. To solve this,
        <a href="../../api/javax/swing/plaf/basic/BasicInternalFrameTitlePane.html#getTitle(java.lang.String, java.awt.FontMetrics, int)">
        <CODE>BasicInternalFrameTitlePane.getTitle</CODE> </a>
	was added.</P>
      </blockquote>

      <H3>JInternalFrame Titles in Windows Look and Feel 
	May Now be Rendered with a Gradient</H3>
      <blockquote>
      <P>The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4389209.html"> 
	4389209</A>. 
      <P> To implement this correctly, we needed to create a class,
        <CODE>com.sun.java.swing.plaf.windows.WindowsInternalFrameTitlePane</CODE>, 
	which extended
        <a href="../../api/javax/swing/plaf/basic/BasicInternalFrameTitlePane.html">
        <CODE>javax.swing.plaf.basic.BasicInternalFrameTitlePane</CODE></a>, 
	but overrode the paint routine to render the gradient when appropriate. 
	The best way to get code-reuse was to break out the portion of 
	the paint method which paints just the background and override 
	just that in <CODE>WindowsInternalFrameTitlePane</CODE>. The method 
       <a href="../../api/javax/swing/plaf/basic/BasicInternalFrameTitlePane.html#paintTitleBackground(java.awt.Graphics)">
       <code>paintTitleBackground</code></a> was added to
        <CODE>javax.swing.plaf.basic.BasicInternalFrameTitlePane</CODE>.
      </blockquote>
      </blockquote>

    <HR>
    <H2><A name="JTextComponent">JTextComponent</A></H2>
    <blockquote>
    <H3> <A name="JEditorPane.tooltip"></A>New Support for Tooltips for Images
        in JEditorPane</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4252169.html"> 
      4252169</A>. 
    <P> In previous releases it was not possible for
      <a href="../../api/javax/swing/text/html/ImageView.html">
      <CODE>ImageView</CODE></a> (the <code>View</code>
      responsible for rendering images in a
      <a href="../../api/javax/swing/JEditorPane.html">
      <CODE>JEditorPane</CODE></a>) to show tooltip text because
      there was no way for a <code>View</code> to influence 
      the tooltip text that is displayed for a
      <a href="../../api/javax/swing/text/JTextComponent.html">
      <CODE>JTextComponent</CODE></a>. 
      In this release, if the the <CODE>JTextComponent</CODE> doesn't 
      have a tooltip, then the view under the mouse is asked to provide 
      one. If that <code>View</code> corresponds to an HTML element
      with an ALT attribute, 
      then the tooltip text is the value of that attribute. 
    <P>To make it possible for <code>View</code>s to affect the
      tooltip text, a number of methods were needed.
      <a href="../../api/javax/swing/plaf/TextUI.html#getToolTipText(javax.swing.text.JTextComponent, java.awt.Point)">
      <code>getToolTipText</code></a> was added to
      <a href="../../api/javax/swing/plaf/TextUI.html">
      <CODE>javax.swing.plaf.TextUI</CODE></a> so that it is possible
      to get the tooltip text for a particular location.
      <a href="../../api/javax/swing/text/JTextComponent.html">
      <code>JTextComponent</code></a>'s
      <a href="../../api/javax/swing/text/JTextComponent.html#getToolTipText(java.awt.event.MouseEvent)">
      <code>getToolTipText</code></a>
      method then forwards to the <code>TextUI</code>, assuming
      a tooltip was not set on the <code>JTextComponent</code>.
    <p><a href="../../api/javax/swing/text/View.html#getToolTipText(float, float, java.awt.Shape)">
      <code>getToolTipText</code></a> was also added to
     <a href="../../api/javax/swing/text/View.html">
     <code>javax.swing.text.View</code></a>.  The default
     implementation of <code>View.getToolTipText</code> will
     forward the request to the <code>View</code>'s child at
     the given location. To make it easy to determine the
     child at a particular location, 
     <a href="../../api/javax/swing/text/View.html#getViewIndex(float, float, java.awt.Shape)">
     <code>getViewIndex</code></a> was added to <code>View</code>.
    <p>The <code>View</code> implementation invokes
      <code>getViewIndex</code> and then <code>getToolTipText</code>
      on the child <code>View</code>. 
      <a href="../../api/javax/swing/text/html/ImageView.html">
      <code>ImageView</code></a> then overrides
      <a href="../../api/javax/swing/text/html/ImageView.html#getToolTipText(float, float, java.awt.Shape)">
      <code>getToolTipText</code></a> and returns the value
      from the ALT attribute of its <code>AttributeSet</code>.
     </blockquote>

    <H3>ImageView Class is Now Public</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4233811.html"> 
      4233811</A>. 
    <P> The package private class
      <a href="../../api/javax/swing/text/html/ImageView.html">
      <CODE>javax.swing.text.html.ImageView</CODE></a>
      is now public so that it can be extended. <br><br>
     </blockquote>

    <H3><A name="JTextComponent.HyperlinkEvent">New HyperlinkEvent Read-Only 
      elementOffset Property</A></H3>
     <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4182124.html"> 
      4182124</A>. 
    <P> The HTML package exposes a way for developers to determine when 
      the mouse moves over a link via the
      <a href="../../api/javax/swing/event/HyperlinkEvent.html">
      <CODE>HyperlinkEvent</CODE></a> and
      <a href="../../api/javax/swing/event/HyperlinkListener.html">
      <CODE>HyperlinkListener</CODE></a> classes. Often times developers 
      need a way to extract information from the document when the
      <CODE>HyperlinkListener</CODE> 
      is notified. There was previously no way for a developer to determine 
      the position in the document a <CODE>HyperlinkEvent</CODE> represents. 
      To remedy this the constructor
      <a href="../../api/javax/swing/event/HyperlinkEvent.html#HyperlinkEvent(java.lang.Object, javax.swing.event.HyperlinkEvent.EventType, java.net.URL, java.lang.String, javax.swing.text.Element)">
      <code>HyperlinkEvent(Object, EventType, URL, String, Element)</code></a>
      and the method 
      <a href="../../api/javax/swing/event/HyperlinkEvent.html#getSourceElement()">
      <code>getSourceElement</code></a> were added to
      <a href="../../api/javax/swing/event/HyperlinkEvent.html">
      <code>HyperlinkEvent</code></a>.
    <p><code>HTMLFrameHyperlinkEvent</code> extends
       <code>HyperlinkEvent</code>, which already defines the method
       <a href="../../api/javax/swing/event/HyperlinkEvent.html#getSourceElement()">
       <code>getSourceElement</code></a>. Since the superclass
       now defines this method, the <code>getSourceElement</code>
       javadoc was removed from <code>HTMLFrameHyperlinkEvent</code>
       (the method is now inherited):
      </blockquote>


    <H3>HTML Parser Change: Whitespace Reporting</H3>
      <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4241788.html"> 
      4241788</A>. 
    <P> The semantics of the HTML parser
      (<a href="../../api/javax/swing/text/html/parser/Parser.html">
      <CODE>javax.swing.text.html.parser.Parser</CODE></a>) 
      have slightly changed to better match that of the browser
      (Netscape<sup><font size="-2">TM</font></sup> and Internet Explorer).
      While no API was changed, those using the parser may notice 
      a slight difference in the reporting of whitespace. Here is how 
      things have changed: if <code>strict</code> (an instance variable
      of <CODE>javax.swing.text.html.parser.Parser</CODE>) 
      == <code>false</code> (the default) an instance variable is
      used to try and mimic the behavior of Netscape and Explorer. 
    <P> The problematic scenarios are: 
    <PRE>
'&lt;b>blah &lt;i> &lt;strike> foo'
</PRE>
    <P> which can be treated as: 
    <PRE>
'&lt;b>blah &lt;i>&lt;strike>foo'
</PRE>
    <P> as well as: 
    <PRE>
'&lt;p>&lt;a href="xx"> &lt;em>Using&lt;/em>&lt;/a>&lt;/p>'
</PRE>
    <P> which appears to be treated as: 
    <PRE>
'&lt;p>&lt;a href="xx">&lt;em>Using&lt;/em>&lt;/a>&lt;/p>'
</PRE>
    <P> When a tag that breaks flow, or trailing whitespace is encountered 
      an instance variable is set to true. From then on, all whitespace 
      is ignored. The instance variable is set back to false 
      the first time a non whitespace character is encountered. 
     </blockquote>

    <H3>Improved Support for Writing HTML Forms</H3>
     <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4200439.html"> 
      4200439</A>. 
    <P> The HTML support provided in the
      J2SE<sup><font size="-2">TM</font></sup> has never correctly supported 
      writing out form elements. This was due, in large part, to the way 
      that forms were modeled. To better match the document object
      model (see <a href="http://www.w3.org/DOM/">DOM</a>
      at <a href="http://www.w3.org">www.w3.org</a>) we have changed how
      the forms are modeled internally. Previously, any attributes of a 
      form would be stored in the <CODE>attributeSet</CODE> of all of 
      the children character elements. As of this release,
      an element is created to represent 
      the form, better matching that of the HTML file itself. This allows 
      for better modeling of the form, as well as consistent writing of 
      the form. 
    <P> This affects developers that relied on forms being handled 
      loosely. As an example, we would previously treat the following 
      invalid HTML: 
    <PRE>
&lt;table>
&lt;form>
&lt;/table>
&lt;/form>
</PRE>
    <P> as: 
    <PRE>
&lt;form>
&lt;table>
&lt;/table>
&lt;/form>
</PRE>
    <P> With this release, we instead treat it as: 
    <PRE>
&lt;table>
&lt;form>
&lt;/form>
&lt;/table>
</PRE>
    <BR>
     </blockquote>

    <H3>Static DefaultPainter in
      <CODE>javax.swing.text.DefaultHighlighter</CODE> Class is
      Now <CODE>Final</CODE></H3>
     <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4328938.html"> 
      4328938</A>. 
    <P> Prior to this release, the static field
      <a href="../../api/javax/swing/text/DefaultHighlighter.html#DefaultPainter">
      <CODE>DefaultPainter</CODE></a> of
      <a href="../../api/javax/swing/text/DefaultHighlighter.html">
      <CODE>javax.swing.text.DefaultHighlighter</CODE></a>
      was not final. This was a potential security problem. For this release,
      it is now <CODE>Final</CODE>. <br><br>
      </blockquote>

    <H3>PlainDocument Constructor is Now Public</H3>
     <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4220001.html"> 
      4220001</A>. </P>
    <P>Prior to this release, the
      <a href="../../api/javax/swing/text/PlainDocument.html#PlainDocument(javax.swing.text.AbstractDocument.Content)">
      <CODE>PlainDocument(AbstractDocument.Content)</CODE></a>
      constructor was protected. 
      This meant that developers wishing to use the constructor had to 
      subclass. This constructor was intended to be public, and is now
      public in this release.
     </blockquote>

    <H3>JEditorPane.scrollToReference Method is Now Public</H3>
     <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4304676.html"> 
      4304676</A>. </P>
    <P><a href="../../api/javax/swing/JEditorPane.html#scrollToReference(java.lang.String)"><CODE>JEditorPane.scrollToReference</CODE></a> was protected for no 
      good reason. This method is intended to be useful without having 
      to subclass, as such it has been made public in this release.
      </blockquote>

      <H3>Document.getText Method Now Allows for Partial Returns</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4156650.html"> 
	4156650</A>. 
      <P> For efficiently accessing the content of a text document,
        <a href="../../api/javax/swing/text/Document.html">
        <CODE>Document</CODE></a> defines the method
	<a href="../../api/javax/swing/text/Document.html#getText(int, int, javax.swing.text.Segment)">
        <CODE>getText(int, int, Segment)</CODE></a>. Unfortunately,
	there has been no way for the caller to determine if the
        receiver could efficiently satisfy the request. For example,
        <a href="../../api/javax/swing/text/GapContent.html">
        <CODE>GapContent</CODE></a> could efficiently implement
	the request as long as the request didn't span the 
	last edited spot of the document (the gap). To facilitate 
	efficient access of the content, the methods
        <a href="../../api/javax/swing/text/Segment.html#setPartialReturn(boolean)">
        <CODE>setPartialReturn</CODE></a> and
	<a href="../../api/javax/swing/text/Segment.html#isPartialReturn()">
        <CODE>isPartialReturn</CODE></a> have been added to
        <a href="../../api/javax/swing/text/Segment.html">
        <CODE>Segment</CODE></a>. 
	The current semantics of <CODE>Document.getText</CODE> still hold,
	but for more efficient use callers should invoke
        <CODE>segment.setPartialReturn(true)</CODE> 
	and be prepared to get back a portion of the document at a time. <br>
        </blockquote>

      <H3>JEditorPane Now Provides HTML Accessibility Support</H3>
       <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4303259.html"> 
	4303259</A>. 
      <P> Assistive technologies for people with disabilities require 
	programmatic access to the contents of
        <a href="../../api/javax/swing/JEditorPane.html">
        <code>JEditorPane</code></a>
        using the Accessibility API. Previously, the only access was
        to hypertext links. This API 
	change provided accessibility to all HTML components using the 
	Accessibility API. 
      <P><a href="../../api/javax/swing/text/html/HTMLEditorKit.html">
        <CODE>javax.swing.text.html.HTMLEditorKit</CODE></a> now implements 
	<a href="../../api/javax/accessibility/Accessible.html">
        <CODE>javax.accessibility.Accessible</CODE></a>. 
      <P><code>JEditorPane</code> now implements
        <a href="../../api/javax/swing/JEditorPane.html#getAccessibleContext()">
        <code>getAccessibleContext()</code></a>.<br><br>
        </blockquote>

      <H3>Further Support for New AbstractDocument.replace Method</H3>
       <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4458513.html"> 
	4458513</A>. 
       <p>As part of <a href="http://developer.java.sun.com/developer/bugParade/bugs/4431047.html">
        RFE 4431047</a>, a
        <a href="../../api/javax/swing/text/AbstractDocument.html#replace(int, int, java.lang.String, javax.swing.text.AttributeSet)">
        <code>replace</code></a> method was added to 
        <a href="../../api/javax/swing/text/AbstractDocument.html">
        <code>AbstractDocument</code></a>. In order to allow this method
        to call <a href="../../api/javax/swing/text/AbstractDocument.html#remove(int, int)">
        <code>remove</code></a> and
        <a href="../../api/javax/swing/text/AbstractDocument.html#insertString(int, java.lang.String, javax.swing.text.AttributeSet)">
        <code>insertString</code></a> (the only methods defined in the interface
        for mutating a <code>Document</code>), the restrictions on when
        <a href="../../api/javax/swing/text/AbstractDocument.html#writeLock()">
        <code>writeLock</code></a> may be invoked have been relaxed.
        This allows <code>replace</code> to be compatible with old
        versions of <code>AbstractDocument</code> that only override
        <code>remove</code> and <code>insertString</code>.
        </blockquote>
        </blockquote>

    <HR>
    <H2><A name="JOptionPane">JOptionPane</A></H2>
    <blockquote>
    <H3>New showInputDialog Methods</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4226644.html"> 
      4226644</A>. 
    <P> Prior to this release, if programs wished to display a simple 
      input dialog containing a textfield with a default string, they 
      had to invoke the complex <CODE>JOptionPane.showInputDialog</CODE> 
      method which requires seven parameters. Two new methods,
      <a href="../../api/javax/swing/JOptionPane.html#showInputDialog(java.lang.Object, java.lang.Object)">
      <code>showInputDialog(Object, Object)</code></a>, and
      <a href="../../api/javax/swing/JOptionPane.html#showInputDialog(java.awt.Component, java.lang.Object, java.lang.Object)">
      <code>showInputDialog(Component, Object, Object)</code></a>,
      make it more convenient to create and display simple input 
      dialogs. 
      </blockquote>

      <H3>JOptionPane Now Supports ComponentOrientation</H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4265463.html"> 
	4265463</A>. 
      <P><a href="../../api/javax/swing/JOptionPane.html">
        <CODE>JOptionPane</CODE></a> needed to support right-to-left layout. 
	This was a bug fix and no actual API was required, however, the
        class spec for <a href="../../api/javax/swing/JOptionPane.html">
        <code>JOptionPane</code></a> and
        <a href="../../api/javax/swing/plaf/basic/BasicOptionPaneUI.html">
        <code>javax.swing.plaf.basic.BasicOptionPane</code></a> have been
        updated.
      </blockquote>

      <H3><a name=showConfirmDialog>JOptionPane now uses
          Non-Resizable Dialogs</a></H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4829588.html"> 
	4829588</A>. 
      <P>As of release 1.4.0, <code>JOptionPane</code> is changed
         to use non-resizable dialogs. As a result, the dialogs
         displayed by many <code>JOptionPane</code> methods have
         slightly changed.  The first two changes are desirable:
         <ul>
         <li>The dialogs are, obviously, no longer resizable.
         <p>
         <li>The dialogs no longer show the system menu icon
             (that typically appears in the upper-left corner
             of the dialog on a left-to-right system).
         </ul>
         A side effect of this change appears in the handling of extra-long
         text.  Previously, long text was clipped, showing "..." at the end,
         as the dialog was restricted to the size of the screen.  Now,
         extra-long text can cause the dialog to be sized larger than the
         screen in order to accomodate all of the text.  Keep watching bug
<a href="http://developer.java.sun.com/developer/bugParade/bugs/4829588.html"> 
	4829588</A>
             to see how this undesirable behavior is resolved.
         </ul>
      </blockquote>

      </blockquote>

    <HR>
      <H2><A name="JPopupMenu">JPopupMenu</A></H2>
      <blockquote>

      <H3><a name=4632782>JPopupMenu and Focus</a></H3>
      <blockquote>
      <p>As of this release, showing a <code>JPopupMenu</code> causes
      focus to transfer to the parent <code>JRootPane</code>.  This was
      done so that <code>JPopupMenu</code>s would support keyboard
      traversal (<a
href="http://developer.java.sun.com/developer/bugParade/bugs/4212563">
      4212563</a>).  This may cause problems for applications that are
      doing validation on focus lost.  If this affects you, it is
      recommended that in the <code>focusLost</code> notification you
      check the temporary property of the <code>FocusEvent</code> and,
      if <code>true</code>, do nothing.  In situations where you don't
      want <code>JPopupMenu</code> to grab focus, there is unfortunately
      no way to disable this in the current release.  In release 1.4.1 the 
      decision to transfer focus is based on the focusability of the
      <code>JPopupMenu</code>.  Refer to bug <a
href="http://developer.java.sun.com/developer/bugParade/bugs/4632782.html">
      4632782</A> for details.
      </blockquote>

      <H3>JPopupMenu Now Supports Key Bindings</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4212563.html"> 
	4212563</A>. 
      <P>Previously, <a href="../../api/javax/swing/JPopupMenu.html">
        <CODE>JPopupMenu</CODE></a> didn't support key bindings. The arrow 
	keys, mnemonics, the enter key, and escape did not work with a 
	<CODE>JPopupMenu</CODE> unless it was used as part of a compound 
	component (like a <CODE>JMenu</CODE> or a <CODE>JComboBox</CODE>). 
      <P> This behavior can be traced to the fact that <CODE>JPopupMenu</CODE> 
	did not always gain focus, and could therefore not get
        <CODE>KeyEvents</CODE>. 
	It was previously not possible for light weight toolkits, such 
	as Swing, to request focus and indicate that the focus change was 
	temporary. The new focus architecture solved this problem, 
	and Swing can now request a temporary focus change. Fixing this 
	bug required making the <CODE>JPopupMenu</CODE> get focus so that 
	the key bindings can be processed. Consumers that had previously 
	not expected focus changes need to update their code to check 
	the temporary property of the
        <a href="../../api/java/awt/event/FocusEvent.html">
        <CODE>FocusEvent</CODE>s</a>. 
      </blockquote>

      <H3>JPopupMenu.setVisible(true) Now Throws HeadlessException in Headless Mode</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4401222.html"> 
	4401222</A>. 
      <p>When the new headless mode was introduced, 
       <a href="../../api/javax/swing/JPopupMenu.html#setVisible(boolean)">
       <code>JPopupMenu.setVisible(true)</code></a> was implemented to throw
       <code>NullPointerException</code> when called in headless mode.
       It has now been fixed to throw <code>HeadlessException</code>
       instead, to indicate that this operation cannot be performed
       in headless mode.
      </blockquote>
      </blockquote>

    <HR>
    <H2><A name="JPanel">JPanel</A></H2>
      <blockquote>
    <H3>New setUI, getUI Methods</H3>
      <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4226238.html"> 
      4226238</A>. 
    <P> The <a href="../../api/javax/swing/JPanel.html#setUI(javax.swing.plaf.PanelUI)">
      <CODE>setUI</code></a>/<a href="../../api/javax/swing/JPanel.html#getUI()"><code>getUI</CODE></a>
      methods were not implemented for 
      <a href="../../api/javax/swing/JPanel.html">
      <CODE>JPanel</CODE></a>, even though its look and feel is defined by 
      pluggable look and feel (plaf). See
      <a href="../../api/javax/swing/plaf/basic/BasicPanelUI.html">
      <CODE>javax.swing.plaf.basic.BasicPanelUI.java</CODE></a>,
      for example.
      </blockquote>
      </blockquote>

    <HR>
    <H2><A name="JTabbedPane">JTabbedPane</A></H2>
      <blockquote>
    <H3>JTabbedPane and Focus</H3>
      <blockquote>
      <p>The new focus specification states that focus requests on
      components that are not showing will fail.  This can have subtle
      side effects.  One such side effect is that requesting focus
      from a <code>ChangeListener</code> associated with a
      <code>JTabbedPane</code> may fail.  At the same time, the
      <code>ChangeListener</code> is notified that the component is
      not currently visible and therefore the focus request fails
      in the same situation that it probably worked under the previous release.
      If you are running into this situation with <code>JTabbedPane</code>
      it is suggested you make the component visible before requesting focus.
      Other situations may require different approaches.
      </blockquote>

    <H3>New indexAtLocation Method in JTabbedPane</H3>
      <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4241787.html"> 
      4241787</A>. 
    <P> Prior to this change, there was no way for client programs to 
      convert a coordinate location to a particular tab in a tabbedpane. 
      This made it difficult to implement special event handling on a 
      <CODE>JTabbedPane</CODE> (like popping up a menu over a tab). 
    <P>The method
       <a href="../../api/javax/swing/JTabbedPane.html#indexAtLocation(int, int)">indexAtLocation</a>
       has been added to <a href="../../api/javax/swing/JTabbedPane.html">
      <code>JTabbedPane</code></a>.
      </blockquote>

      <H3>New Mnemonic Support for Accessing Tabs in JTabbedPane</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4284674.html"> 
	4284674</A>. 
      <P> The panes of a
        <a href="../../api/javax/swing/JTabbedPane.html">
        <CODE>JTabbedPane</CODE></a> did not previously allow 
	for mnemonics. To facilitate this, the methods
        <a href="../../api/javax/swing/JTabbedPane.html#getDisplayedMnemonicIndexAt(int)">
        <code>getDisplayedMnemonicIndexAt</code></a> and
        <a href="../../api/javax/swing/JTabbedPane.html#setDisplayedMnemonicIndexAt(int, int)">
      <code>setDisplayedMnemonicIndexAt</code></a> have been added.
      </blockquote>

      <H3>Exceptions Thrown by JTabbedPane Now Consistent</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4287053.html"> 
	4287053</A>. 
      <P> The <a href="../../api/javax/swing/JTabbedPane.html">
        <CODE>JTabbedPane</CODE></a> class is a container that has many 
	methods which take an integer index as a parameter. Unfortunately, 
	these methods weren't inconsistent with their approach to throwing 
	exceptions (some methods check/throw, some don't). Additionally, 
	the javadoc was in error - it stated that an
        <CODE>IllegalParameterException</CODE> 
	was thrown when in fact an <CODE>ArrayIndexOutOfBoundsException</CODE> 
	was thrown (by the underlying <CODE>Vector</CODE>). 
      <P> Any method which takes an index that must be in the valid range 
	from 0 to tabCount-1 now documents that it throws an
        <CODE>IndexOutOfBoundsException</CODE> 
	(note: the underlying code continues to throw
        <CODE>ArrayIndexOutOfBoundsException</CODE> 
	for compatibility reasons). 
      <P>The following doc change:
<pre>
    * @exception IndexOutOfBoundsException if index is out of range
    *       (index < 0 || index >= tab count)
</pre>
         will be applied to the following
         <a href="../../api/javax/swing/JTabbedPane.html">
         <code>JTabbedPane</code></a> methods:
<pre>
    public String <a href="../../api/javax/swing/JTabbedPane.html#getTitleAt(int)">getTitleAt(int index)</a>
    public Icon <a href="../../api/javax/swing/JTabbedPane.html#getIconAt(int)">getIconAt(int index)</a>
    public Icon <a href="../../api/javax/swing/JTabbedPane.html#getDisabledIconAt(int)">getDisabledIconAt(int index)</a>
    public String <a href="../../api/javax/swing/JTabbedPane.html#getToolTipTextAt(int)">getToolTipTextAt(int index)</a>
    public Color <a href="../../api/javax/swing/JTabbedPane.html#getBackgroundAt(int)">getBackgroundAt(int index)</a>
    public Color <a href="../../api/javax/swing/JTabbedPane.html#getForegroundAt(int)">getForegroundAt(int index)</a>
    public boolean <a href="../../api/javax/swing/JTabbedPane.html#isEnabledAt(int)">isEnabledAt(int index)</a>
    public Component <a href="../../api/javax/swing/JTabbedPane.html#getComponentAt(int)">getComponentAt(int index)</a>
    public int <a href="../../api/javax/swing/JTabbedPane.html#getDisplayedMnemonicIndexAt(int)">getDisplayedMnemonicIndexAt(int index)</a>
    public Rectangle <a href="../../api/javax/swing/JTabbedPane.html#getBoundsAt(int)">getBoundsAt(int index)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setTitleAt(int, java.lang.String)">setTitleAt(int index, String title)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setIconAt(int, javax.swing.Icon)">setIconAt(int index, Icon icon)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setDisabledIconAt(int, javax.swing.Icon)">setDisabledIconAt(int index, Icon icon)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setToolTipTextAt(int, java.lang.String)">setToolTipTextAt(int index, String toolTipText)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setForegroundAt(int, java.awt.Color)">setForegroundAt(int index, Color foreground)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setBackgroundAt(int, java.awt.Color)">setBackgroundAt(int index, Color background)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setEnabledAt(int, boolean)">setEnabledAt(int index, boolean enabled)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setComponentAt(int, java.awt.Component)">setComponentAt(int index, Component component)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setDisplayedMnemonicIndexAt(int, int)">setDisplayedMnemonicIndexAt(int tabIndex, int mnemonicIndex)</a>
</pre>
   <p>The same exception handling will be added to the following
     methods which previously did nothing:
<pre>
    public void <a href="../../api/javax/swing/JTabbedPane.html#setSelectedIndex(int)">setSelectedIndex(int index)</a>
    public void <a href="../../api/javax/swing/JTabbedPane.html#remove(int)">remove(int index)</a>
</pre>
      </blockquote>
      </blockquote>

    <HR>
    <H2><A name="JTable">JTable</A></H2>
      <blockquote>
    <H3>DefaultTableModel.moveRow Specification Clarified</H3>
      <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4144295.html"> 
      4144295</A>. 
    <P> In JDK 1.3, the <CODE>moveRow</CODE> method in
      <a href="../../api/javax/swing/table/DefaultTableModel.html">
      <CODE>DefaultTableModel</CODE></a>
      was documented in such a way that it did not clearly define whether 
      the row at <CODE>startIndex</CODE> or the row at <CODE>endIndex</CODE> 
      row would end up at <CODE>toIndex</CODE>. By inference from the 
      examples, it appears that the <CODE>startIndex</CODE> should end 
      up at <CODE>toIndex</CODE> when moving rows downward and the
      <CODE>endIndex</CODE> 
      should end up at <CODE>toIndex</CODE> when moving rows upward. 
    <P> That said, the implementation of
      <a href="../../api/javax/swing/table/DefaultTableModel.html#moveRow(int, int, int)">
      <CODE>moveRow</CODE></a> had a bug 
      such that whenever the number of rows being moved was more than 
      one - the rows would end up in somewhat arbitrary positions and 
      would not even be contiguous after the move. Bug 4144295 noted that 
      the implementation did not even perform the example in its specification: 
      the <CODE>moveRow(1, 3, 5)</CODE> example in practice left the vector 
      in the following state: 
    <PRE>
a|C|e|B|D|f|g|h|i|j|k
</PRE>
    The new implementation makes the observation that this operation is 
    a simple rotation of elements between bounds that can be calculated 
    from the inputs. 
    <P> Since the previous implementation did not work we have taken the 
      opportunity to simplify the definition to one where the
      <CODE>startIndex</CODE> 
      is always moved to the <CODE>toIndex</CODE>, with all other elements 
      appearing after <CODE>toIndex</CODE> in the same order that they 
      were originally. Note that this performs the same operation as the 
      previous implementation in the only case where it worked - when 
      a single row was being moved. 
    <P> The new implementation does not throw an exception when
      <CODE>endIndex</CODE> 
      is less than <CODE>startIndex</CODE> - it does nothing instead having 
      satisfied the implied contract to move all rows, <CODE>r</CODE>, 
      where <CODE>startIndex <= r <= endIndex</CODE>. 
      </blockquote>

      <H3>Typing into a JTable Now Transfers Focus to the Cell</H3>
      <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4274963.html"> 
	4274963</A>. 
      <P> The Excel application automatically 
	gives focus to underlying editors when a user presses an alphanumeric 
	key. We have received over 200 JDC votes requesting that we offer this 
	behavior in
        <a href="../../api/javax/swing/JTable.html">
        <code>JTable</code></a>. While we can't change the default
        behavior for reasons of backwards compatibility, in this release
        we have added the new property, <code>surrendersFocusOnKeystroke</code>,
	to address this request. The new methods
        <a href="../../api/javax/swing/JTable.html#setSurrendersFocusOnKeystroke(boolean)">
        <code>setSurrendersFocusOnKeystroke</code></a> and
        <a href="../../api/javax/swing/JTable.html#getSurrendersFocusOnKeystroke()">
        <code>getSurrendersFocusOnKeystrok</code></a> support this feature.
	The default behavior remains unchanged. 
      </blockquote>
    <H3>DefaultTableModel Now Allows a Null For Name Argument</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4474094.html"> 
      4474094</A>. 
     <p>The methods
      <a href="../../api/javax/swing/table/DefaultTableModel.html#addColumn(java.lang.Object)">
      <code>DefaultTableModel.addColumn(Object)</code></a>
      and <a href="../../api/javax/swing/table/DefaultTableModel.html#addColumn(java.lang.Object, java.util.Vector)">
      <code>DefaultTableModel.addColumn(Object, Vector)</code></a>
      did not previously
      allow <code>null</code> for the <code>name</code> argument - they
      threw an <code>IllegalArgumentException</code>.  As it is possible
      to set the column name to <code>null</code> via other means
      (using constructors, or directly manipulating the field), the
      <code>addColumn</code> methods now also allows a <code>null</code> value.
     </blockquote>
     </blockquote>

    <HR>
    <H2><A name="JTree">JTree</A></H2>
    <blockquote>
    <H3>DefaultTreeModel Now Allows a Null Root</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4264897.html"> 
      4264897</A>. 
    <P><a href="../../api/javax/swing/tree/DefaultTreeModel.html">
      <CODE>DefaultTreeModel</CODE></a> now allows a <CODE>null</CODE> root 
      node . Previously, the javadoc for <CODE>TreeModel</CODE> specified
      that a <CODE>null</CODE> 
      root was valid, but <CODE>DefaultTreeModel</CODE> would 
      not allow one. <CODE>DefaultTreeModel</CODE> now allows setting 
      a <CODE>null</CODE> root, as well as a <CODE>null</CODE> root in 
      the constructor. The javadoc for
      <a href="../../api/javax/swing/tree/DefaultTreeModel.html#setRoot(javax.swing.tree.TreeNode)">
      <CODE>setRoot</CODE></a> has been revised to reflect the change. 
    </blockquote>

      <H3>Added First Letter Navigation to JTree</H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4284709.html"> 
	4284709</A>. 
      <P> Often times users wish to navigate to cells in a <CODE>JTree</CODE> 
	using alphanumeric keys. To facilitate this, a method named
        <a href="../../api/javax/swing/JTree.html#getNextMatch(java.lang.String, int, javax.swing.text.Position.Bias)">
        <CODE>getNextMatch</CODE></a> has been added to
        <a href="../../api/javax/swing/JTree.html"><code>JTree</code></a>.
        <a href="../../api/javax/swing/plaf/basic/BasicTreeUI.html">
        <CODE>BasicTreeUI</CODE></a> installs a
        <CODE>KeyListener</CODE> that invokes this method 
	as keys are typed on the keyboard. 
    </blockquote>
    </blockquote>

	<a name="4308384"></a>
    <HR>
    <H2><A name="JList">JList</A></H2>
    <blockquote>
    <H3>ListDataEvent.toString Now Provides Useful Information</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4134085.html"> 
      4134085</A>. 
    <P> Developers often rely on the <CODE>toString</CODE> method for 
      useful debugging information. Unfortunately
      <a href="../../api/javax/swing/event/ListDataEvent.html">
      <CODE>ListDataEvent</CODE></a>'s 
      <a href="../../api/javax/swing/event/ListDataEvent.html#toString()">
      <CODE>toString</CODE></a> method did not really provide anything useful. 
      For this release, it has been changed to return something useful.
    </blockquote>

      <H3>JList Now Supports First Letter Key Navigation</H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4284709.html"> 
	4284709</A>. 
      <P> Often times users wish to navigate to cells in a
        <a href="../../api/javax/swing/JList.html">
        <CODE>JList</CODE></a>
	using alphanumeric keys. To facilitate this,
        <a href="../../api/javax/swing/JList.html#getNextMatch(java.lang.String, int, javax.swing.text.Position.Bias)">
        <CODE>getNextMatch</CODE></a> was added to <CODE>JList</CODE>.
        <a href="../../api/javax/swing/plaf/basic/BasicListUI.html">
        <code>BasicListUI</code></a> will then install a
        <code>KeyListener</code> that will invoke this method as
        keys are typed to update the selection.
    </blockquote>

      <H3><A name="4460016">JList Items May Now be Arranged
          Horizontally</A></H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4460016.html"> 
	4460016</A>. 
      <P> <CODE>JList</CODE> previously only allowed laying out its cells
	vertically, that is: 
      <PRE>
1
2
3
4
</PRE>
      <P> Numerous users have asked for the ability to lay out the list 
	horizontally, something like: 
      <PRE>
1  3
2  4
</PRE>
or
<pre>
1  2
3  4
</pre>
      <P>To achieve this, three constants are added to
       <code>JList</code>,
       <a href="../../api/javax/swing/JList.html#VERTICAL">
       <code>VERTICAL</code></a>,
       <a href="../../api/javax/swing/JList.html#VERTICAL_WRAP">
        <code>VERTICAL_WRAP</code></a>, and
       <a href="../../api/javax/swing/JList.html#HORIZONTAL_WRAP">
       <code>HORIZONTAL_WRAP</code></a>. The methods
       <a href="../../api/javax/swing/JList.html#getLayoutOrientation()">
       <code>getLayoutOrientation</code></a> and
       <a href="../../api/javax/swing/JList.html#setLayoutOrientation(int)">
       <code>setLayoutOrientation</code></a> are also added to
       <a href="../../api/javax/swing/JList.html"><code>JList</code></a>.
       The javadoc for the <code>JList</code> methods
       <a href="../../api/javax/swing/JList.html#getScrollableTracksViewportHeight()">
       <code>getScrollableTracksViewportHeight</code></a>,
       <a href="../../api/javax/swing/JList.html#getScrollableTracksViewportWidth()">
       <code>getScrollableTracksViewportWidth</code></a>,
       <a href="../../api/javax/swing/JList.html#getScrollableBlockIncrement(java.awt.Rectangle, int, int)">
       <code>getScrollableBlockIncrement</code></a>, and
       <a href="../../api/javax/swing/JList.html#getPreferredScrollableViewportSize()">
       <code>getPreferredScrollableViewportSize</code></a> are updated
       accordingly.  Likewise, the javadoc for
       <a href="../../api/javax/swing/plaf/basic/BasicListUI.html#getPreferredSize(javax.swing.JComponent)">
       <code>getPreferredSize</code></a> in 
       <a href="../../api/javax/swing/plaf/basic/BasicListUI.html">
       <code>javax.swing.plaf.basic.BasicListUI</code></a> is updated.

    </blockquote>
    </blockquote>

    <HR>
    <H2><A name="Miscellaneous">Miscellaneous</A></H2>
    <blockquote>

    <h3><a name=4759306>JColorChooser.setPreviewPanel doesn't remove the old one</a></h3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4759306.html"> 
      4759306</A>.
    <p>When calling this method the default PreviewPanel was not removed
    from the colorChooser, though the new panel was added. This resulted
    in strange artifacts.  This has been fixed in release 1.4.2.
    </blockquote>

    <h3><a name=4668511>Deadlock in JColorChooser Fixed</a></h3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4668511.html"> 
      4668511</A>.
    <p>This bug when encountered in 1.4.0, caused a deadlock that
    would hang the entire application. This has been fixed in 1.4.1.
    </blockquote>

    <h3>JFrame.setDefaultCloseOperation Can Now Throw SecurityException</h3>
    <blockquote>
    <p>As of release 1.4.1, the
    <a href="../../api/javax/swing/JFrame.html#setDefaultCloseOperation(int)">
    <code>setDefaultCloseOperation</code></a> method
    in <code>JFrame</code> may now throw <code>SecurityException</code>.
    </blockquote>

    <h3><a name=4668963>Metal Can Now Pick up Font Sizes from the
        Desktop on Microsoft Windows</a></h3>
    <blockquote>
    <P> The bugtraq reports that correspond to this change are: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4419964.html"> 
      4419964</A> and
    <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4668963.html"> 
      4668963</A>.
    <p>Prior to this release, the <code>DefaultMetalTheme</code> ignored the
    font size information from the Windows desktop.  As of release 1.4.1,
    <code>DefaultMetalTheme</code> can use the font sizes specified in
    the Windows desktop.  This can be disabled using the system property
    <code>swing.useSystemFontSettings</code>. An additional part of this
    bug is that our Windows look and feel was picking up the wrong fonts
    for a handful of components; this has been fixed.
    </blockquote>

    <h3><a name=4615396>Some Locales Will Honor Font Size Only from the
        Desktop on Windows</a></h3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4615396.html"> 
      4615396</A>. </P>
    <p>On Microsoft Windows, with the <code>WindowsLookAndFeel</code>,
       in certain locales we only honor font size from the desktop.  
       This has been addressed in 1.4.1.
    </blockquote>

    <H3>Document Which Properties a Look and Feel May Ignore</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4420209.html"> 
      4420209</A>. </P>
    <p>Some look and feel implementations may ignore certain properties
    which affect the look and feel.  With this release, the documentation for
    certain methods has been modified to indicate that these properties
    may be ignored by some look and feels.  Also, the class spec for
    <a href="../../api/javax/swing/UIManager.html">
    <code>UIManager</code></a> and the documentation for the
    <a href="../../api/javax/swing/plaf/metal/package-summary.html">
    <code>javax.swing.plaf.metal</code></a> package 
    were modified to specify that the Java look and feel is the default
    look and feel.  This modification affects only documentation.
    <p>The affected methods are:
    <ul>
    <li><a href="../../api/javax/swing/AbstractButton.html">
      <code>javax.swing.AbstractButton</code></a>
      <ul>
      <li><a href="../../api/javax/swing/AbstractButton.html#isFocusPainted()">
         <code>public boolean isFocusPainted()</code></a>
      <li><a href="../../api/javax/swing/AbstractButton.html#setFocusPainted(boolean)">
         <code>public void setFocusPainted(boolean b)</code></a>
      <li><a href="../../api/javax/swing/AbstractButton.html#isRolloverEnabled()">
         <code>public boolean isRolloverEnabled()</code></a>
      <li><a href="../../api/javax/swing/AbstractButton.html#setRolloverEnabled(boolean)">
         <code>public void setRolloverEnabled(boolean b)</code></a>
      </ul>
    <li><a href="../../api/javax/swing/JButton.html">
       <code>javax.swing.JButton</code></a>
     <ul>
     <li><a href="../../api/javax/swing/JButton.html#isDefaultButton()">
       <code>public boolean isDefaultButton()</code></a>
     <li><a href="../../api/javax/swing/JButton.html#isDefaultCapable()">
       <code>public boolean isDefaultCapable()</code></a>
     <li><a href="../../api/javax/swing/JButton.html#setDefaultCapable(boolean)">
       <code>public void setDefaultCapable(boolean defaultCapable)</code></a>
     </ul>
    <li><a href="../../api/javax/swing/JCheckBox.html">
      <code>javax.swing.JCheckBox</code></a>
    <ul>
    <li><a href="../../api/javax/swing/JCheckBox.html#isBorderPaintedFlat()">
      <code>public boolean isBorderPaintedFlat()</code></a>
    <li><a href="../../api/javax/swing/JCheckBox.html#setBorderPaintedFlat(boolean)">
      <code>public void setBorderPaintedFlat(boolean b)</code></a>
    </ul>
    <li><a href="../../api/javax/swing/JColorChooser.html">
      <code>javax.swing.JColorChooser</code></a>
     <ul>
     <li><a href="../../api/javax/swing/JColorChooser.html#getDragEnabled()">
      <code>public boolean getDragEnabled()</code></a>
     <li><a href="../../api/javax/swing/JColorChooser.html#setDragEnabled(boolean)">
      <code>public void setDragEnabled(boolean b)</code></a>
     </ul>
    <li><a href="../../api/javax/swing/JComboBox.html">
      <code>javax.swing.JComboBox</code></a>
     <ul>
     <li><a href="../../api/javax/swing/JComboBox.html#isLightWeightPopupEnabled()">
      <code>public boolean isLightWeightPopupEnabled()</code></a>
     <li><a href="../../api/javax/swing/JComboBox.html#setLightWeightPopupEnabled(boolean)">
       <code>public void setLightWeightPopupEnabled(boolean aFlag)</code></a>
     </ul>
    <li><a href="../../api/javax/swing/JFileChooser.html">
      <code>javax.swing.JFileChooser</code></a>
     <ul>
     <li><a href="../../api/javax/swing/JFileChooser.html#getDragEnabled()">
      <code>public boolean getDragEnabled()</code></a>
     <li><a href="../../api/javax/swing/JFileChooser.html#setDragEnabled(boolean)">
       <code>public void setDragEnabled(boolean b)</code></a>
     <li><a href="../../api/javax/swing/JFileChooser.html#getControlButtonsAreShown()">
      <code>public boolean getControlButtonsAreShown()</code></a>
     <li><a href="../../api/javax/swing/JFileChooser.html#setControlButtonsAreShown(boolean)">
      <code>public void setControlButtonsAreShown(boolean b)</code></a>
     </ul>
     <li><a href="../../api/javax/swing/JInternalFrame.html">
       <code>javax.swing.JInternalFrame</code></a>
     <ul>
      <li><a href="../../api/javax/swing/JInternalFrame.html#isIconifiable()">
        <code>public boolean isIconifiable()</code></a>
      <li><a href="../../api/javax/swing/JInternalFrame.html#setIconifiable(boolean)">
        <code>public void setIconifiable(boolean b)</code></a>
     </ul>
     <li><a href="../../api/javax/swing/JList.html">
      <code>javax.swing.JList</code></a>
      <ul>
      <li><a href="../../api/javax/swing/JList.html#getDragEnabled()">
       <code>public boolean getDragEnabled()</code></a>
      <li><a href="../../api/javax/swing/JList.html#setDragEnabled(boolean)">
       <code>public void setDragEnabled(boolean b)</code></a>
      </ul>
     <li><a href="../../api/javax/swing/JPopupMenu.html">
      <code>javax.swing.JPopupMenu</code></a>
      <ul>
      <li><a href="../../api/javax/swing/JPopupMenu.html#isLightWeightPopupEnabled()">
       <code>public boolean isLightWeightPopupEnabled()</code></a>
      <li><a href="../../api/javax/swing/JPopupMenu.html#setLightWeightPopupEnabled(boolean)">
        <code>public void setLightWeightPopupEnabled(boolean aFlag)</code></a>
      </ul>
     <li><a href="../../api/javax/swing/JProgressBar.html">
      <code>javax.swing.JProgressBar</code></a>
      <ul>
      <li><a href="../../api/javax/swing/JProgressBar.html#isStringPainted()">
       <code>public boolean isStringPainted()</code></a>
      <li><a href="../../api/javax/swing/JProgressBar.html#setStringPainted(boolean)">
       <code>public void setStringPainted(boolean b)</code></a>
      <li><a href="../../api/javax/swing/JProgressBar.html#isIndeterminate()">
       <code>public boolean isIndeterminate()</code></a>
      <li><a href="../../api/javax/swing/JProgressBar.html#setIndeterminate(boolean)">
      <code>public void setIndeterminate(boolean newValue)</code></a>
      </ul>
     <li><a href="../../api/javax/swing/JSplitPane.html">
      <code>javax.swing.JSplitPane</code></a>
      <ul>
      <li><a href="../../api/javax/swing/JSplitPane.html#isOneTouchExpandable()">
       <code>public boolean isOneTouchExpandable()</code></a>
      <li><a href="../../api/javax/swing/JSplitPane.html#setOneTouchExpandable(boolean)">
       <code>public void setOneTouchExpandable(boolean newValue)</code></a>
      <li><a href="../../api/javax/swing/JSplitPane.html#isContinuousLayout()">
       <code>public boolean isContinuousLayout()</code></a>
      <li><a href="../../api/javax/swing/JSplitPane.html#setContinuousLayout(boolean)">
       <code>public void setContinuousLayout(boolean newContinuousLayout)</code></a>
      </ul>
     <li><a href="../../api/javax/swing/JTable.html">
      <code>javax.swing.JTable</code></a>
      <ul>
      <li><a href="../../api/javax/swing/JTable.html#getDragEnabled()">
       <code>public boolean getDragEnabled()</code></a>
      <li><a href="../../api/javax/swing/JTable.html#setDragEnabled(boolean)">
       <code>public void setDragEnabled(boolean b)</code></a>
      </ul>
     <li><a href="../../api/javax/swing/text/JTextComponent.html">
      <code>javax.swing.text.JTextComponent</code></a>
      <ul>
      <li><a href="../../api/javax/swing/text/JTextComponent.html#getDragEnabled()">
       <code>public boolean getDragEnabled()</code></a>
      <li><a href="../../api/javax/swing/text/JTextComponent.html#setDragEnabled(boolean)">
       <code>public void setDragEnabled(boolean b)</code></a>
      </ul>
     <li><a href="../../api/javax/swing/JToolBar.html">
      <code>javax.swing.JToolBar</code></a>
      <ul>
      <li><a href="../../api/javax/swing/JToolBar.html#isFloatable()">
       <code>public boolean isFloatable()</code></a>
      <li><a href="../../api/javax/swing/JToolBar.html#setFloatable(boolean)">
       <code>public void setFloatable(boolean b)</code></a>
      </ul>
     <li><a href="../../api/javax/swing/JTree.html">
      <code>javax.swing.JTree</code></a>
      <ul>
      <li><a href="../../api/javax/swing/JTree.html#getDragEnabled()">
       <code>public boolean getDragEnabled()</code></a>
      <li><a href="../../api/javax/swing/JTree.html#setDragEnabled(boolean)">
       <code>public void setDragEnabled(boolean b)</code></a>
      <li><a href="../../api/javax/swing/JTree.html#getShowsRootHandles()">
       <code>public boolean getShowsRootHandles()</code></a>
      <li><a href="../../api/javax/swing/JTree.html#setShowsRootHandles(boolean)">
       <code>public void setShowsRootHandles(boolean newValue)</code></a>
      <li><a href="../../api/javax/swing/JTree.html#getScrollsOnExpand()">
       <code>public boolean getScrollsOnExpand()</code></a>
      <li><a href="../../api/javax/swing/JTree.html#setScrollsOnExpand(boolean)">
       <code>public void setScrollsOnExpand(boolean newValue)</code></a>
      </ul>
    </ul>
    </blockquote>

    <H3>SwingConstants Now Define NEXT and PREVIOUS</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4134085.html"> 
      4175466</A>. </P>
    <P><a href="../../api/javax/swing/SwingConstants.html">
      <CODE>SwingConstants</CODE></a> defines constants that are 
      used throughout Swing. A common UI operation is to locate the
      next/previous item in a sequence; as such,
      <CODE>SwingConstants</CODE> now defines 
      constants for
      <a href="../../api/javax/swing/SwingConstants.html#NEXT">
      <CODE>NEXT</CODE></a> and
      <a href="../../api/javax/swing/SwingConstants.html#PREVIOUS">
      <CODE>PREVIOUS</CODE></a>.
    </blockquote>

    <H3>New Way to Process Bindings for Swing Components from 
      a non-Swing Component</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4344900.html"> 
      4344900</A>. </P>
    <P> Swing has an elaborate infrastructure to support associating actions 
      with particular key strokes. This means that when the user types 
      a character the action executes. The processing of these events 
      is triggered from within
      <a href="../../api/javax/swing/JComponent.html#processKeyEvent(java.awt.event.KeyEvent)">
      <CODE>JComponent.processKeyEvent</CODE></a>
      (<CODE>processKeyEvent</CODE> is overridden from
      <CODE>java.awt.Component</CODE>). 
      As the processing of these actions occurs within <CODE>JComponent</CODE>, 
      there was previously no way for developers to process bindings from 
      within non-<CODE>JComponent</CODE> subclasses that get focus. To 
      facilitate this, a
      <a href="../../api/javax/swing/SwingUtilities.html#processKeyBindings(java.awt.event.KeyEvent)">
      <CODE>processKeyBindings</CODE></a> method was added to
      <a href="../../api/javax/swing/SwingUtilities.html">
      <CODE>SwingUtilities</CODE></a>. 
    </blockquote>

      <H3><A name="4290988">Auditory Feedback for Swing Components</A></H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4290988.html"> 
	4290988</A>.</P>
      <p><b>Note:</b> Due to a handful of bugs in the sound package
        we default to playing no sounds.  If you would like to turn
        on sounds, you can do the following:
<pre>
    UIManager.put("AuditoryCues.playList",
        UIManager.get("AuditoryCues.allAuditoryCues"));
</pre>
      <P>Previously, Swing components did not provide the same auditory 
	feedback as native components on many platforms. MALF2, a 
	set of modifications to Swing's PLAFs, is primarily intended for 
	use as an output-only, non-speech audio user feedback mechanism. 
	The MALF2 project is important from the perspective of Swing/JFC 
	and the Java platform's goal of tight user interface integration 
	with the underlying platform. The MALF2 project ensures that a 
	user's experience with a native application and a Swing/JFC application 
	is identical with regard to the auditory user feedback.</P>
      <P> The implementation centers around adding API to
        <a href="../../api/javax/swing/plaf/basic/BasicLookAndFeel.html">
        <CODE>BasicLookAndFeel</CODE></a>
	to support loading an <CODE>ActionMap</CODE> containing
        <CODE>Action</CODE>s that play sounds. Various
        <CODE><i>Basic</i>ComponentUI</CODE> implementations 
	then invoke <CODE>actionPerformed</CODE> on the <CODE>Action</CODE> 
	at the appropriate time to play the sound.
        For example, 
        <a href="../../api/javax/swing/plaf/basic/BasicMenuItemUI.html">
        <code>BasicMenuItemUI</code></a> uses
        <a href="../../api/javax/swing/plaf/basic/BasicMenuItemUI.html#doClick(javax.swing.MenuSelectionManager)">
        <code>doClick</code></a> to perform the action.
        While <CODE>BasicLookAndFeel</CODE> 
	plays sounds using the Java Sound API, subclasses can use
        an alternative 
	method. For example, <CODE>WindowsLookAndFeel</CODE> maps the 
	Strings to <CODE>Runnable</CODE>s by way of
        <a href="../../api/java/awt/Toolkit.html#getDesktopProperty(java.lang.String)">
        <CODE>Toolkit.getDefaultToolkit().getDesktopProperty()</CODE></a>, 
	to provide integration with the sounds provided by Windows. 
      <P> The <CODE>ActionMap</CODE> containing the sounds can be accessed via
        <a href="../../api/javax/swing/plaf/basic/BasicLookAndFeel.html#getAudioActionMap()">
	<CODE>BasicLookAndFeel.getAudioActionMap</CODE></a>.
        When <CODE>getAudioActionMap</CODE> 
	is first invoked, it performs the following: 
      <OL>
	<LI>The default entry <CODE>auditoryCues.cueList</CODE>
          (an <CODE>Object[]</CODE>) 
	  is used to determine a list of sounds to load. 
	<LI> Each entry in the array is passed to <CODE>createAudioAction</CODE>
	  to obtain the <CODE>Action</CODE> responsible for playing the 
	  sound. 
	<LI> The <CODE>Object</CODE> passed into
          <a href="../../api/javax/swing/plaf/basic/BasicLookAndFeel.html#createAudioAction(java.lang.Object)">
          <CODE>BasicLookAndFeel.createAudioAction</CODE></a>
	  is used to look up a path to a sound file from the defaults 
	  table that can be loaded by Java Sound. 
	<LI> When one of the <CODE>BasicComponentUI</CODE>s classes wishes 
	  to play a sound, it invokes
          <a href="../../api/javax/swing/plaf/basic/BasicLookAndFeel.html#playSound(javax.swing.Action)">
          <CODE>BasicLookAndFeel.playSound</CODE></a>, 
	  passing in the <CODE>Action</CODE>. 
	<LI> <CODE>BasicLookAndFeel.playSound</CODE> invokes
          <CODE>actionPerformed</CODE> 
	  on the <CODE>Action</CODE> if the name of the <CODE>Action</CODE> 
	  is contained in the defaults entry
          <CODE>AuditoryCues.playList</CODE>. 
      </OL>
      <P> This architecture allows the developer numerous ways to customize 
	the sounds that are played: 
      <UL>
	<LI> The sounds associated with a particular <CODE>JComponent</CODE> 
	  can be manipulated by changing the <CODE>Action</CODE> in the 
	  <CODE>ActionMap</CODE> associated with the <CODE>JComponent</CODE>, 
	  eg: 
	  <PRE>
ActionMap map = menuItem.getActionMap();
map.put("MenuItem.commandSound", differentActionToPlaySound);
</PRE>
	<LI> The sounds used by all <CODE>Component</CODE>s of a particular 
	  type can be changed by manipulating the defaults table, eg: 
	  <PRE>
UIManager.put("MenuItem.commandSound", "pathToNewSoundFild");
</PRE>
	<LI> Developers creating a custom look and feel may override 
	  one of the <CODE>BasicLookAndFeel</CODE> methods to load the 
	  sounds in an alternative manner, or perhaps play the sounds 
	  in a different way. 
      </UL>
      <P> Alternatively, the set of sounds to be played can be manipulated 
	by way of the defaults entry
        <CODE>AuditoryCues.playList</CODE>. 
	This <CODE>Object</CODE> array contains the keys in the defaults 
	table indicating which sounds to play. <CODE>MetalLookAndFeel</CODE> 
	defines this to be: 
      <PRE>
<CODE>new Object[]  {"OptionPane.errorSound", 
	  "OptionPane.informationSound",
	  "OptionPane.questionSound",
	  "OptionPane.warningSound" }</CODE>
	</PRE>
      This has the effect of turning on only the sounds that
      <CODE>JOptionPane</CODE> supports. 
    </blockquote>

      <H3>JMenu Updated to Work with New Focus Architecture</H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4371580.html"> 
	4371580</A>. </P>
      <P> The new focus architecture introduced via RFE <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4290675.html">4290675</A> 
	allows for developers to request a temporary focus change. The 
	request is done through the protected
        <a href="../../api/java/awt/Component.html">
        <CODE>Component</CODE></a> methods 
        <a href="../../api/java/awt/Component.html#requestFocus(boolean)">
	<CODE>requestFocus(boolean)</CODE></a> or
        <a href="../../api/java/awt/Component.html#requestFocusInWindow(boolean)">
        <CODE>requestFocusInWindow(boolean)</CODE></a>. 
	These two methods are protected as they are not meant for general 
	use, but only for implementors of lightweight toolkits, such as 
	Swing. Swing is architected in such a way that code in different 
	packages needs to temporarily request focus; as such, the parent 
	class of all Swing Components,
        <a href="../../api/javax/swing/JComponent.html">
        <CODE>JComponent</CODE></a>, needs to expose
        <a href="../../api/javax/swing/JComponent.html#requestFocus(boolean)">
        <code>requestFocus(boolean)</code></a> and
        <a href="../../api/javax/swing/JComponent.html#requestFocusInWindow(boolean)">
        <code>requestFocusInWindow</code></a> as public. 
    </blockquote>

      <H3>New Support for Changing ComponentOrientation in Tree of Components</H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4337186.html"> 
	4337186</A>. </P>
      <P> With the bulk of the Swing components paying attention to their 
        <a href="../../api/java/awt/ComponentOrientation.html">
	<CODE>ComponentOrientation</CODE></a> property, we now need two 
	features to make it easier to manage the
        <CODE>ComponentOrientation</CODE> 
	settings of an entire hierarchy of components. It should be easy 
	to set entire hierarchies of components to a consistent
        <CODE>ComponentOrientation</CODE> setting using the new
        <a href="../../api/javax/swing/SwingUtilities.html">
        <code>SwingUtilities</code></a> method
        <a href="../../api/javax/swing/SwingUtilities.html#applyComponentOrientation(java.awt.Component, java.awt.ComponentOrientation)">
        <code>applyComponentOrientation(Component c,
        ComponentOrientation o)</code></a>.
    </blockquote>

      <H3>New Access to Desktop Properties</H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4290973.html"> 
	4290973</A>. </P>
      <P> As part of the Windows look and feel update, a method was 
	added to <a href="../../api/javax/swing/LookAndFeel.html">
        <code>LookAndFeel</code></a>,
        <a href="../../api/javax/swing/LookAndFeel.html#getDesktopPropertyValue(java.lang.String, java.lang.Object)">
        <CODE>getDesktopPropertyValue</CODE></a>, to 
	facilitate accessing desktop properties. 
    </blockquote>

      <H3>New Method to Offset Rectangle by Component's Insets</H3>
    <blockquote>
      <P> This was actually added as part of the update to
        <a href="../../api/javax/swing/JProgressBar.html">
        <CODE>JProgressBar</CODE></a>
	to support an indeterminate state. The bugtraq report that corresponds 
	to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4290973.html"> 
	4290717</A>. </P>
      <P>The new method is
        <a href="../../api/javax/swing/SwingUtilities.html#calculateInnerArea(java.awt.JComponent, java.awt.Rectangle)">
        <code>calculateInnerArea(Component, Rectangle)</code></a>
        has been added to
        <a href="../../api/javax/swing/SwingUtilities.html">
        <code>SwingUtilities</code></a>.
    </blockquote>

      <H3><A name="mouseWheel">New API for Mouse Wheels</A></H3>
    <blockquote>
      <P>The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4356268.html"> 
	4356268</A>. </P>
      <P> Wheel mice, with a scroll wheel as a middle mouse button, are 
	increasingly popular. This proposal provides for built-in Java 
	support for scrolling via the mouse wheel, as well as a new wheel 
	event listener so developers can customize mouse wheel behavior. 
      <P>A new class,
        <a href="../../api/java/awt/event/MouseWheelListener.html">
        <code>MouseWheelListener</code></a>, and a new interface,
        <a href="../../api/java/awt/event/MouseWheelEvent.html">
        <code>MouseWheelEvent</code></a>, have been added.
        The constant, <a href="../../api/java/awt/AWTEvent.html#MOUSE_WHEEL_EVENT_MASK">
        <code>MOUSE_WHEEL_EVENT_MASK</code></a> has been added to
        <a href="../../api/java/awt/AWTEvent.html">
        <code>AWTEvent</code></a>. 
        <a href="../../api/java/awt/AWTEventMulticaster.html">
        <code>AWTEventMulticaster</code></a> has three new methods:
        <a href="../../api/java/awt/AWTEventMulticaster.html#mouseWheelMoved(java.awt.event.MouseWheelEvent)">
        <code>mouseWheelMoved</code></a>,
        <a href="../../api/java/awt/AWTEventMulticaster.html#add(java.awt.event.MouseWheelListener, java.awt.event.MouseWheelListener)">
        <code>add</code></a>, and
        <a href="../../api/java/awt/AWTEventMulticaster.html#remove(java.awt.event.MouseWheelListener, java.awt.event.MouseWheelListener)">
        <code>remove</code></a>.
        <a href="../../api/java/awt/Component.html">
        <code>Component</code></a> has two new methods:
        <a href="../../api/java/awt/Component.html#addMouseWheelListener(java.awt.event.MouseWheelListener)">
        <code>addMouseWheelListener</code></a>, and
        <a href="../../api/java/awt/Component.html#removeMouseWheelListener(java.awt.event.MouseWheelListener)">
        <code>removeMouseWheelListener</code></a>.
        <a href="../../api/java/awt/ScrollPane.html">
        <code>ScrollPane</code></a> also has two new methods:
        <a href="../../api/java/awt/ScrollPane.html#setWheelScrollingEnabled(boolean)">
        <code>setWheelScrollingEnabled</code></a> and
        <a href="../../api/java/awt/ScrollPane.html#isWheelScrollingEnabled()">
        <code>isWheelScrollingEnabled</code></a>. Finally,
        <a href="../../api/java/awt/Robot.html"> 
        <code>Robot</code></a> has the new method
        <a href="../../api/java/awt/Robot.html#mouseWheel(int)">
        <code>mouseWheel</code></a>.
    </blockquote>

      <H3>JFrame, JDialog, and JApplet No Longer Override processKeyEvent</H3>
    <blockquote>
      <P>The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4462408.html"> 
	4462408</A>. </P>
     <p>Swing supports the option of registering key bindings on
       <code>JComponent</code>s.  In previous releases it was necessary
       for Swing top level components (
       <a href="../../api/javax/swing/JFrame.html">
       <code>JFrame</code></a>,
       <a href="../../api/javax/swing/JDialog.html">
       <code>JDialog</code></a>, and
       <a href="../../api/javax/swing/JApplet.html">
       <code>JApplet</code></a>) to
       override <code>processKeyEvent</code> (defined in
       <a href="../../api/java/awt/Component.html">
       <code>java.awt.Component</code></a>) to activate these
       bindings if the focus was ever on one of these
       top level components.  With the addition of
       <a href="../../api/java/awt/KeyEventPostProcessor.html">
       <code>java.awt.KeyEventPostProcessor</code></a>
       and Swing taking advantage of this
       (<a href="http://developer.java.sun.com/developer/bugParade/bugs/4389332.html">
       RFE 4389332</a>), it is no longer necessary for these
       methods to be overridden in the Swing top level components.
       As of this release, these methods have been removed at the top
       level and are now inherited. 
    </blockquote>

      <H3>Document Headless Exceptions for JWindow Constructors</H3>
    <blockquote>
      <P>The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4483258.html"> 
	4483258</A>. </P>
      <p>Though the headless mode was added to this release, two
        <a href="../../api/javax/swing/JWindow.html">
        <code>JWindow</code></a> constructors did not indicate
        that <code>HeadlessException</code> may be thrown.  This
        has been fixed in the doc for
        <a href="../../api/javax/swing/JWindow.html#JWindow(java.awt.Window, java.awt.GraphicsConfiguration)">
        <code>Window(Window, GraphicsConfiguration)</code></a> and
        <a href="../../api/javax/swing/JWindow.html#JWindow(java.awt.GraphicsConfiguration)">
        <code>JWindow(GraphicsConfiguration)</code></a>.
    </blockquote>

      <H3><a name=4532517>Known Input Verifier Bug</a></H3>
    <blockquote>
      <P>The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4532517.html">
        4532517</A>. </P>
    <p>We've recently found an input verifier bug that has been
       causing problems for some of our users.  Under 1.4, the 
       <code>shouldYieldFocus</code> method
       does not allow side-effects such as popping up an
       <code>OptionPane</code>.
     <p>We do have the following workaround:
     <pre>
    public boolean shouldYieldFocus(JComponent input) {
      if (verify(input)) {
        return true;
      }

      // According to the documentation, should yield focus is allowed to cause
      // side effects.  So temporarily remove the input verifier on the text
      // field.
      input.setInputVerifier(null);
      System.out.println("Removed input verifier");

      // Pop up the message dialog.
      String message = "Roll over the 'JButton1' with mouse pointer "
        + "after closing this dialog.\nIt sometimes behaves correctly "
        + "for the first time\n but repeating action brings incorrect "
        + "behaviour of button.";
      JOptionPane.showMessageDialog(null, message , "invalid value", 
        JOptionPane.WARNING_MESSAGE);
      System.out.println("Showed message.");

      // Reinstall the input verifier.
      input.setInputVerifier(this);
      System.out.println("Reinstalled input verifier");

      // Tell whomever called us that we don't want to yield focus.
      return false;
    }

     </pre>
    </blockquote>
    </blockquote>

    <H2><A name="KnownBugs">Known Bugs</A></H2>
    <blockquote>
    <H3><a name=4628933>Focus Bug When Simultaneously Running Windows and a Remote Display Application</a></H3>
    <blockquote>
      In certain circumstances showing a heavy weight Window that is not 
      focusable causes focus to be lost.  This specifically happens when running
      flavors of Windows and a remote display application, such as
      Reflection-X, at the same time. Note that this bug was filed against
      release 1.4, but is fixed in 1.4.1. Refer to bug <a
href="http://developer.java.sun.com/developer/bugParade/bugs/4628933.html">
      4628933</A> for details.
    </blockquote>
    </blockquote>


    <HR>
    <H2><A name="JRootPane">JRootPane</A></H2>
    <blockquote>
    <H3>New Multi Implementation of RootPaneUI</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4338458.html"> 
      4338458</A>. </P>
    <P> The classes in <CODE>javax.swing.plaf.multi</CODE> are used to 
      multiplex between multiple look and feels. This is typically used 
      by assistive technologies that use an auxiliary look and feel to 
      provide additional information, such as auditory information. There 
      is currently no implementation in multi for <CODE>RootPaneUI</CODE> 
      which makes using an auxiliary look and feel problematic.</P>
     <p>The new class <a href="../../api/javax/swing/plaf/multi/MultiRootPaneUI.html">
      <code>javax.swing.plaf.multi.MultiRootPaneUI</code></a> has been added.
    </blockquote>

      <H3>Support for Look and Feels to Provide Window Decorations</H3>
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4290471.html"> 
	4290471</A>.</P>
      <P> AWT recently provided API such that <CODE>Window</CODE>s may 
	be undecorated. That is, when undecorated is true, the
        <a href="../../api/java/awt/Window.html">
        <CODE>Window</CODE></a> will not render 
	any widgets for closing, moving, or resizing. As such, Swing 
	has made it possible for the look and feel to render decorations 
	for Windows. 
      <P>This feature is primarily supported in
        <a href="../../api/javax/swing/JRootPane.html">
        <CODE>javax.swing.JRootPane</CODE></a>, 
	but we encourage developers to use the switches provided in
        <a href="../../api/javax/swing/JFrame.html">
	<CODE>javax.swing.JFrame</CODE></a> and
        <a href="../../api/javax/swing/JDialog.html">
        <CODE>javax.swing.JDialog</CODE></a>. 
      <P>The following changes were made to
        <a href="../../api/javax/swing/JRootPane.html">
        <code>JRootPane</code></a>:
<pre>
    public static final int <a href="../../api/javax/swing/JRootPane.html#NONE">NONE</a>;
    public static final int <a href="../../api/javax/swing/JRootPane.html#FRAME">FRAME</a>;
    public static final int <a href="../../api/javax/swing/JRootPane.html#PLAIN_DIALOG">PLAIN_DIALOG</a>;
    public static final int <a href="../../api/javax/swing/JRootPane.html#INFORMATION_DIALOG">INFORMATION_DIALOG</a>;
    public static final int <a href="../../api/javax/swing/JRootPane.html#ERROR_DIALOG">ERROR_DIALOG</a>;
    public static final int <a href="../../api/javax/swing/JRootPane.html#COLOR_CHOOSER_DIALOG">COLOR_CHOOSER_DIALOG</a>;
    public static final int <a href="../../api/javax/swing/JRootPane.html#FILE_CHOOSER_DIALOG">FILE_CHOOSER_DIALOG</a>;
    public static final int <a href="../../api/javax/swing/JRootPane.html#QUESTION_DIALOG">QUESTION_DIALOG</a>;
    public static final int <a href="../../api/javax/swing/JRootPane.html#WARNING_DIALOG">WARNING_DIALOG</a>;

    public void <a href="../../api/javax/swing/JRootPane.html#setWindowDecorationStyle(int)">setWindowDecorationStyle(int style)</a>
    public int <a href="../../api/javax/swing/JRootPane.html#getWindowDecorationStyle()">getWindowDecorationStyle()</a>
</pre>
         <p>Not all look and feels support the window
            decoration style; the method
            <a href="../../api/javax/swing/LookAndFeel.html#getSupportsWindowDecorations()">
            <code>getSupportsWindowDecorations</code></a>
            has been added to
            <a href="../../api/javax/swing/LookAndFeel.html">
            <code>javax.swing.LookAndFeel</code></a> to provide a way
            for look and feels to indicate whether they support this
            behavior.
       <p>The methods, 
        <a href="../../api/javax/swing/JFrame.html#isDefaultLookAndFeelDecorated()">
        <code>isDefaultLookAndFeelDecorated()</code></a>, and
        <a href="../../api/javax/swing/JFrame.html#setDefaultLookAndFeelDecorated(boolean)">setDefaultLookAndFeelDecorated</a>
        have been added to
        <a href="../../api/javax/swing/JFrame.html">
        <code>JFrame</code></a>.
       <p>The methods, 
        <a href="../../api/javax/swing/JDialog.html#isDefaultLookAndFeelDecorated()">
        <code>isDefaultLookAndFeelDecorated()</code></a>, and
        <a href="../../api/javax/swing/JDialog.html#setDefaultLookAndFeelDecorated(boolean)">setDefaultLookAndFeelDecorated</a>
        have also been added to
        <a href="../../api/javax/swing/JDialog.html">
        <code>JDialog</code></a>.
    </blockquote>
    </blockquote>


    <HR>
      <H2><A name="JScrollBar">JScrollBar</A></H2>
    <blockquote>
      <H3>JScrollBar Now Overrides setUI</H3> 
    <blockquote>
      <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4213298.html"> 
	4213298</A>.</P>
      <P><a href="../../api/javax/swing/JScrollBar.html">
        <CODE>JScrollBar</CODE></a> did not previously override the
        <a href="../../api/javax/swing/JScrollBar.html#setUI(javax.swing.plaf.ScrollBarUI)">
        <CODE>setUI</CODE></a>
	method. For this release, it has been changed to conform to this 
	behavior. 
    </blockquote>
    </blockquote>

    <HR>
      <H2><A name="JScrollPane">JScrollPane</A></H2>
    <blockquote>
      <H3><A name="4356268">JScrollPane Supports New MouseWheelListener</A></H3>
    <blockquote>
      <P>This was implemented as part of the mouse wheel support. This 
	section only documents the changes to <CODE>JScrollPane</CODE>, 
	for details of the other changes refer to this
        <A href="#mouseWheel">section</A>. 
	The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4356268.html">4356268</A>. 
      </P>
      <P>The methods
        <a href="../../api/javax/swing/JScrollPane.html#isWheelScrollingEnabled()">
        <code>isWheelScrollingEnabled</code></a> and
        <a href="../../api/javax/swing/JScrollPane.html#setWheelScrollingEnabled(boolean)">
        <code>setWheelScrollingEnabled</code></a> were added to
        <a href="../../api/javax/swing/JScrollPane.html">
        <code>JScrollPane</code></a>.
     <p>A new protected inner class, 
        <a href="../../api/javax/swing/plaf/basic/BasicScrollPaneUI.MouseWheelHandler.html">
        <code>MouseWheelHandler</code></a>, was added to
        <a href="../../api/javax/swing/plaf/basic/BasicScrollPaneUI.html">
        <code>javax.swing.plaf.basic.BasicScrollPaneUI</code></a>.
        The relevant method in this inner class is
        <a href="../../api/javax/swing/plaf/basic/BasicScrollPaneUI.MouseWheelHandler.html#mouseWheelMoved(java.awt.event.MouseWheelEvent)">
        <code>mouseWheelMoved</code></a>. Finally, the new method
        <a href="../../api/javax/swing/plaf/basic/BasicScrollPaneUI.html#createMouseWheelListener()">
        <code>createMouseWheelListener</code></a> has been added to <code>BasicScrollPaneUI</code>.
    </blockquote>
    </blockquote>

    <HR>
    <H2><A name="RepaintManager">RepaintManager</A></H2>
    <blockquote>
    <H3>New VolatileImage Support</H3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4363288.html"> 
      4363288</A>. </P>
    <P> The Java 2D team has implemented a new
      <a href="../../api/java/awt/image/VolatileImage.html">
      <CODE>VolatileImage</CODE></a> mechanism
      that has the ability to take advantage of hardware acceleration 
      for <CODE>Image</CODE> graphics and blit-to-screen operations. </P>
    <P> By default, Swing uses double-buffering to paint the contents of 
      GUI components (by rendering into an offscreen image and then copying 
      that image to the screen) and has been changed to take 
      advantage of the new <CODE>VolatileImage</CODE> support. </P>
    <P> The double buffer that Swing uses to do painting is obtained from 
      the <a href="../../api/javax/swing/RepaintManager.html">
      <CODE>RepaintManager</CODE></a> by using the method
      <a href="../../api/javax/swing/RepaintManager.html#getOffscreenBuffer(java.awt.Component, int, int)">
      <CODE>getOffscreenBuffer</CODE></a>. 
      Since a <CODE>VolatileImage</CODE> object requires special handling 
      (to test for failure conditions), we could not simply change this method 
      to return a <CODE>VolatileImage</CODE> since there may be existing 
      code out there that invokes this method and does not implement this 
      additional handling. Therefore, we have added a method,
      <a href="../../api/javax/swing/RepaintManager.html#getVolatileOffscreenBuffer(java.awt.Component, int, int)">
      <code>getVolatileOffscreenBuffer</code></a>, 
      to <CODE>javax.swing.RepaintManager</CODE> to specifically return 
      a <CODE>VolatileImage</CODE> object.
    </blockquote>
    </blockquote>

    <HR>
    <H2><A name="SpringLayout">SpringLayout</A></H2>
    <blockquote>
    <h3>New SpringLayout Class</h3>
    <blockquote>
    <P> The bugtraq report that corresponds to this change is: <A
href="http://developer.java.sun.com/developer/bugParade/bugs/4290203.html"> 
      4290203</A>. </P>
    <p>This release introduces the new layout manager,
    <a href="../../api/javax/swing/SpringLayout.html"><code>SpringLayout</code></a>.
    <p>See <a href="http://java.sun.com/docs/books/tutorial/uiswing/layout/spring.html">
    How to Use SpringLayout</a> in <i>The Java Tutorial</i>
    for examples of using <code>SpringLayout</code>.
    </blockquote>

    </blockquote>

<!-- Body text ends here -->

<!-- ============================================================== -->

<HR SIZE=3 NOSHADE>



<TABLE summary="layout" BORDER="0" WIDTH="100%">

<TR VALIGN=TOP>



<TD>

<P><FONT SIZE="-2">

   <A HREF="../../relnotes/SMICopyright.html">Copyright &#169;</A> 2002

   <A HREF="http://www.sun.com/">Sun Microsystems, Inc.</A>

    All Rights Reserved.</FONT></P>

   <FONT SIZE="-1">

  Please send comments to: <a href="mailto:swing-feedback@java.sun.com">swing-feedback@java.sun.com</a>.
  This is not a subscription list.
   </FONT>
</TD>


<TD ALIGN=RIGHT>

   <IMG SRC="../../images/sunlogo64x30.gif" ALT="Sun" BORDER=0 WIDTH=64 HEIGHT=30>

   <BR>

   <FONT SIZE="+1">

   <i>Java Software</i>

   </FONT>

</TD>



</TR>

</TABLE>



</BODY>

</HTML>



